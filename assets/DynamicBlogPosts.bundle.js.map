{"version":3,"sources":["webpack:///./source/scripts/Layout.js","webpack:///./source/scripts/sections/DynamicBlogPosts.js","webpack:///./node_modules/just-debounce/index.js"],"names":["eventHandlers","previousBreakpoint","getBreakpoints","window","getComputedStyle","document","documentElement","getPropertyValue","replace","split","getBreakpoint","$","on","event","currentBreakpoint","forEach","eventHandler","previous","current","isLessThanBreakpoint","breakpoint","inclusive","breakpoints","comparison","indexOf","isGreaterThanBreakpoint","isBreakpoint","some","onBreakpointChange","push","offBreakpointChange","index","splice","DynamicTwitterFeed","section","$el","el","$window","flickity","$blogPosts","find","_mobileSlider","bind","layout","_destroyFlickity","Flickity","cellSelector","contain","freeScroll","percentPosition","prevNextButtons","pageDots","setGallerySize","_bindSlider","off","destroy","_initFlickity","$slider","debounce","trigger","height","Math","ceil","maxCellHeight"],"mappings":"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","file":"DynamicBlogPosts.bundle.js","sourcesContent":["import $ from 'jquery';\n\nconst eventHandlers = [];\nlet previousBreakpoint = null;\n\nfunction getBreakpoints() {\n  return window\n    .getComputedStyle(document.documentElement, ':before')\n    .getPropertyValue('content')\n    .replace(/\"/g, '')\n    .split(',');\n}\n\nfunction getBreakpoint() {\n  return window\n    .getComputedStyle(document.documentElement, ':after')\n    .getPropertyValue('content')\n    .replace(/\"/g, '');\n}\n\n$(window).on('resize', event => {\n  const currentBreakpoint = getBreakpoint();\n\n  if (previousBreakpoint !== currentBreakpoint) {\n    eventHandlers.forEach(eventHandler => {\n      eventHandler(event, {\n        previous: previousBreakpoint,\n        current: currentBreakpoint,\n      });\n    });\n  }\n\n  previousBreakpoint = currentBreakpoint;\n});\n\nfunction isLessThanBreakpoint(breakpoint, inclusive = false) {\n  const breakpoints = getBreakpoints();\n  const currentBreakpoint = getBreakpoint();\n  const comparison = breakpoints.indexOf(currentBreakpoint) - breakpoints.indexOf(breakpoint);\n\n  return inclusive ? comparison <= 0 : comparison < 0;\n}\n\nfunction isGreaterThanBreakpoint(breakpoint, inclusive = false) {\n  const breakpoints = getBreakpoints();\n  const currentBreakpoint = getBreakpoint();\n  const comparison = breakpoints.indexOf(currentBreakpoint) - breakpoints.indexOf(breakpoint);\n\n  return inclusive ? comparison >= 0 : comparison > 0;\n}\n\nfunction isBreakpoint(...breakpoints) {\n  const currentBreakpoint = getBreakpoint();\n  return breakpoints.some(breakpoint => breakpoint === currentBreakpoint);\n}\n\nfunction onBreakpointChange(eventHandler) {\n  if (eventHandlers.indexOf(eventHandler) === -1) {\n    eventHandlers.push(eventHandler);\n  }\n}\n\nfunction offBreakpointChange(eventHandler) {\n  const index = eventHandlers.indexOf(eventHandler);\n\n  if (index !== -1) {\n    eventHandlers.splice(index, 1);\n  }\n}\n\nexport default {\n  isLessThanBreakpoint,\n  isGreaterThanBreakpoint,\n  isBreakpoint,\n  onBreakpointChange,\n  offBreakpointChange,\n};\n","import $ from 'jquery';\nimport debounce from 'just-debounce';\nimport Flickity from 'flickity';\n\nimport layout from '../Layout';\n\nexport default class DynamicTwitterFeed {\n  constructor(section) {\n    this.$el = $(section.el);\n    this.$window = $(window);\n    this.flickity = null;\n\n    this.$blogPosts = this.$el.find('[data-blog-posts]');\n\n    // Activate flickity on mobile\n    this._mobileSlider = this._mobileSlider.bind(this);\n    layout.onBreakpointChange(this._mobileSlider);\n    this._mobileSlider();\n  }\n\n  /**\n   * Unbind events when section is re-drawn\n   */\n  onSectionUnload() {\n    layout.offBreakpointChange(this._mobileSlider);\n    this._destroyFlickity();\n  }\n\n  _initFlickity() {\n    this.flickity = new Flickity(this.$blogPosts[0], {\n      cellSelector: '.article--excerpt-wrapper',\n      contain: true,\n      freeScroll: true,\n      percentPosition: false,\n      prevNextButtons: false,\n      pageDots: false,\n      setGallerySize: false,\n    });\n\n    this._bindSlider();\n  }\n\n  _destroyFlickity() {\n    if (!this.flickity) {\n      return;\n    }\n\n    this.$window.off('.blog-posts');\n    this.$blogPosts.off('.blog-posts');\n    this.flickity.destroy();\n    this.flickity = null;\n  }\n\n  _mobileSlider() {\n    // If is Large layout, attempt to destroy flickity\n    if (layout.isGreaterThanBreakpoint('M')) {\n      this._destroyFlickity();\n      return;\n    }\n\n    // Is XS/S/M, and flickity is init'd -- do nothing\n    if (this.flickity) {\n      return;\n    }\n\n    // Is XS/S/M, and flickity is not init'd\n    this._initFlickity();\n  }\n\n  _bindSlider() {\n    const $slider = this.$blogPosts.find('.flickity-slider');\n\n    this.$window.on('resize.blog-posts', debounce(() => {\n      this.$blogPosts.trigger('heightUpdate.blog-posts');\n    }));\n\n    this.flickity.on('cellSelect', () => {\n      this.$blogPosts.trigger('heightUpdate.blog-posts');\n    });\n\n    this.$blogPosts.on('heightUpdate.blog-posts', () => {\n      if (!this.flickity) {\n        return;\n      }\n\n      $slider.height(Math.ceil(this.flickity.maxCellHeight));\n    });\n\n    // Sets the Slider to the height of the first slide\n    this.$blogPosts.trigger('heightUpdate.blog-posts');\n  }\n}\n","module.exports = debounce\n\nfunction debounce (fn, delay, at_start, guarantee) {\n  var timeout\n  var args\n  var self\n\n  return function debounced () {\n    self = this\n    args = Array.prototype.slice.call(arguments)\n\n    if (timeout && (at_start || guarantee)) {\n      return\n    } else if (!at_start) {\n      clear()\n\n      timeout = setTimeout(run, delay)\n      return timeout\n    }\n\n    timeout = setTimeout(clear, delay)\n    fn.apply(self, args)\n\n    function run () {\n      clear()\n      fn.apply(self, args)\n    }\n\n    function clear () {\n      clearTimeout(timeout)\n      timeout = null\n    }\n  }\n}\n"],"sourceRoot":""}