{"version":3,"sources":["webpack:///./source/scripts/Accordion.js","webpack:///./source/scripts/Layout.js","webpack:///./source/scripts/sections/DynamicMenuList.js"],"names":["Accordion","$el","options","$","extend","activeClass","autoCollapse","content","eligibleClass","$block","open","hasClass","closeOpen","_open","_close","find","each","i","block","addClass","removeClass","eventHandlers","previousBreakpoint","getBreakpoints","window","getComputedStyle","document","documentElement","getPropertyValue","replace","split","getBreakpoint","on","event","currentBreakpoint","forEach","eventHandler","previous","current","isLessThanBreakpoint","breakpoint","inclusive","breakpoints","comparison","indexOf","isGreaterThanBreakpoint","isBreakpoint","some","onBreakpointChange","push","offBreakpointChange","index","splice","DynamicMenuList","section","el","context","data","layoutHandler","bind","layout","_bindEvents","preventDefault","_toggleAccordion","currentTarget","parent","_toggleList","off","toggle","$trigger","$items","siblings","siblingsVisible","toggleClass","text","see_less","see_more","openAll"],"mappings":"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","file":"DynamicMenuList.bundle.js","sourcesContent":["import $ from 'jquery';\n\nexport default class Accordion {\n  constructor($el, options = {}) {\n    this.$el = $el;\n\n    this.options = $.extend({}, {\n      activeClass: 'accordion--active',\n      autoCollapse: false,\n      content: '[data-accordion-content]',\n      eligibleClass: 'has-accordion',\n    }, options);\n  }\n\n  toggle($block, open = false) {\n    if (open || !$block.hasClass(this.options.activeClass)) {\n      if (this.options.autoCollapse) this.closeOpen();\n      this._open($block);\n    } else {\n      this._close($block);\n    }\n  }\n\n  closeOpen() {\n    $(this.$el.find(`.${this.options.activeClass}`)).each((i, block) => {\n      const $block = $(block);\n      if ($block.hasClass(this.options.activeClass)) {\n        this._close($block);\n      }\n    });\n  }\n\n  openAll() {\n    $(this.$el.find(`.${this.options.eligibleClass}`)).each((i, block) => {\n      this._open($(block), 0);\n    });\n  }\n\n  _open($block) {\n    $block.addClass(this.options.activeClass);\n  }\n\n  _close($block) {\n    $block.removeClass(this.options.activeClass);\n  }\n}\n","import $ from 'jquery';\n\nconst eventHandlers = [];\nlet previousBreakpoint = null;\n\nfunction getBreakpoints() {\n  return window\n    .getComputedStyle(document.documentElement, ':before')\n    .getPropertyValue('content')\n    .replace(/\"/g, '')\n    .split(',');\n}\n\nfunction getBreakpoint() {\n  return window\n    .getComputedStyle(document.documentElement, ':after')\n    .getPropertyValue('content')\n    .replace(/\"/g, '');\n}\n\n$(window).on('resize', event => {\n  const currentBreakpoint = getBreakpoint();\n\n  if (previousBreakpoint !== currentBreakpoint) {\n    eventHandlers.forEach(eventHandler => {\n      eventHandler(event, {\n        previous: previousBreakpoint,\n        current: currentBreakpoint,\n      });\n    });\n  }\n\n  previousBreakpoint = currentBreakpoint;\n});\n\nfunction isLessThanBreakpoint(breakpoint, inclusive = false) {\n  const breakpoints = getBreakpoints();\n  const currentBreakpoint = getBreakpoint();\n  const comparison = breakpoints.indexOf(currentBreakpoint) - breakpoints.indexOf(breakpoint);\n\n  return inclusive ? comparison <= 0 : comparison < 0;\n}\n\nfunction isGreaterThanBreakpoint(breakpoint, inclusive = false) {\n  const breakpoints = getBreakpoints();\n  const currentBreakpoint = getBreakpoint();\n  const comparison = breakpoints.indexOf(currentBreakpoint) - breakpoints.indexOf(breakpoint);\n\n  return inclusive ? comparison >= 0 : comparison > 0;\n}\n\nfunction isBreakpoint(...breakpoints) {\n  const currentBreakpoint = getBreakpoint();\n  return breakpoints.some(breakpoint => breakpoint === currentBreakpoint);\n}\n\nfunction onBreakpointChange(eventHandler) {\n  if (eventHandlers.indexOf(eventHandler) === -1) {\n    eventHandlers.push(eventHandler);\n  }\n}\n\nfunction offBreakpointChange(eventHandler) {\n  const index = eventHandlers.indexOf(eventHandler);\n\n  if (index !== -1) {\n    eventHandlers.splice(index, 1);\n  }\n}\n\nexport default {\n  isLessThanBreakpoint,\n  isGreaterThanBreakpoint,\n  isBreakpoint,\n  onBreakpointChange,\n  offBreakpointChange,\n};\n","import $ from 'jquery';\n\nimport Accordion from '../Accordion';\nimport layout from '../Layout';\n\nexport default class DynamicMenuList {\n  constructor(section) {\n    this.$el = $(section.el);\n    this.context = section.data.context;\n    this.Accordion = new Accordion(this.$el);\n\n    // Handle Accordion interaction when window size changes\n    this.layoutHandler = this.onBreakpointChange.bind(this);\n    layout.onBreakpointChange(this.layoutHandler);\n\n    this._bindEvents();\n  }\n\n  _bindEvents() {\n    this.$el.on('click.menu-list', '[data-accordion-trigger]', event => {\n      event.preventDefault();\n      this._toggleAccordion($(event.currentTarget).parent());\n    });\n\n    this.$el.on('click.menu-list', '[data-menulist-toggle]', event => {\n      event.preventDefault();\n      this._toggleList(event.currentTarget);\n    });\n  }\n\n  onSectionUnload() {\n    this.$el.off('.menu-list');\n\n    delete this.Accordion;\n  }\n\n  onSectionBlockSelect(block) {\n    this._toggleAccordion($(block.el), true);\n  }\n\n  onSectionBlockDeselect(block) {\n    this._toggleAccordion($(block.el), false);\n  }\n\n  _toggleAccordion($block) {\n    if (layout.isGreaterThanBreakpoint('M')) return;\n\n    this.Accordion.toggle($block);\n  }\n\n  _toggleList(el) {\n    const $trigger = $(el);\n    const $items = $trigger.parent().siblings('[data-hidden-default]');\n    const siblingsVisible = $trigger.data('menulist-toggle');\n\n    $items.toggleClass('menulist--menu-item-hidden', siblingsVisible);\n    $trigger\n      .data('menulist-toggle', !siblingsVisible)\n      .text(!siblingsVisible ? this.context.see_less : this.context.see_more);\n  }\n\n  onBreakpointChange(event, breakpoints) {\n    if (layout.isGreaterThanBreakpoint('M')) {\n      this.Accordion.openAll();\n    } else if (breakpoints.previous === 'L' && !layout.isGreaterThanBreakpoint('M')) {\n      this.Accordion.closeOpen();\n    }\n  }\n}\n"],"sourceRoot":""}