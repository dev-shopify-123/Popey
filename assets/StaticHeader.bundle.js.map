{"version":3,"sources":["webpack:///./source/scripts/Accordion.js","webpack:///./source/scripts/components/StickyHeader.js","webpack:///./source/scripts/components/navigation/NavMobileSubMenus.js","webpack:///./source/scripts/components/navigation/NavMobile.js","webpack:///./node_modules/@pixelunion/animations/dist/animations.es.js","webpack:///./source/scripts/components/navigation/NavDesktopDimmer.js","webpack:///./source/scripts/components/navigation/NavDesktopParent.js","webpack:///./source/scripts/components/navigation/NavDesktopMeganavParent.js","webpack:///./source/scripts/components/navigation/NavDesktopMenu.js","webpack:///./source/scripts/sections/StaticHeader.js"],"names":["Accordion","$el","options","$","extend","activeClass","autoCollapse","content","eligibleClass","$block","open","hasClass","closeOpen","_open","_close","find","each","i","block","addClass","removeClass","StickyHeader","settings","body","document","querySelector","header","menu","menuToggle","postMessage","transitioning","lastToggle","Date","now","stickyClass","scrolledClass","navOpenClass","_toggleStickyHeader","bind","_toggleMenu","sticky_header","classList","add","window","requestAnimationFrame","getComputedStyle","position","indexOf","observer","IntersectionObserver","entries","observe","toggleClick","event","preventDefault","layout","isGreaterThanBreakpoint","addEventListener","remove","navTransitionOutEvent","removeEventListener","setAttribute","getBoundingClientRect","height","onOpen","contains","navTransitionInEvent","closeNavigation","openNavigation","shouldShrink","isIntersecting","_shrink","_expand","disconnect","NavMobileSubMenus","activeMenuClass","activeMenu","linkClass","linkSelector","navTrigger","subMenu","buttonClass","buttonSelector","_bindEvents","off","$current","index","el","_closeSubmenu","on","_linkClicked","_toggleSubmenu","$target","currentTarget","_openSubmenu","$link","siblings","first","$menu","$button","css","attr","toggle","one","closeSubMenus","NavMobile","elements","$body","$window","$toggleOpen","isOpen","subMenus","$mobileNav","$panel","$overlay","$toggleClose","layoutHandler","onBreakpointChange","offBreakpointChange","_setPanelHeight","innerHeight","focus","events","closeAllSubmenus","unload","forEach","NavDesktopDimmer","animation","transition","state","openers","Set","requestor","has","animateTo","delete","size","NavDesktopParent","listitem","link","submenu","_isOpen","parentMenu","closeSiblings","children","length","close","closeEsc","e","key","timer","mouseover","clearTimeout","mouseout","click","stopPropagation","target","focusin","setTimeout","NavDesktopMenu","hold","onStart","offsetHeight","paddingTop","paddingBottom","parseInt","style","setProperty","bounds","right","documentElement","clientWidth","then","force","openSelectedBlock","forceClose","bodyClose","focusInClose","NavDesktopMeganavParent","shouldBlockClose","resolveOpenMeganavs","Promise","resolve","openMeganav","openHeight","meganavGhostContent","cloneNode","width","left","appendChild","wrapper","maxHeight","isFinite","Math","min","scrollHeight","_openHeight","querySelectorAll","ghost","parentNode","removeChild","dataset","meganavId","parents","_openMeganav","_selectedBlock","_megaNavs","current","parent","child","navmenuMeganavTrigger","undefined","push","navmenuParent","id","filter","megaNav","blockId","newSelectedBlock","forceOpen","meganav","StaticHeader","section","data","currency","headerSearch","$scripts","$menuToggle","$cartCount","$searchField","$siteNavigation","$desktopNavigation","$headerTools","converter","$converter","stickyHeader","navMobile","navDesktop","forms","Forms","live_search","enable","$script","LiveSearch","$header","mobileSearchButtonOnClick","mobileSearchButtonEl","SearchForm","_converter","response","item_count","toggleClass","_closeAllNavigation","name","selectBlock","CurrencyConverter","init","switcherSelector","priceSelector","shopCurrency","shop_currency","defaultCurrency","default_currency","displayFormat","display_format","moneyFormat","money_format","moneyFormatNoCurrency","money_format_no_currency","moneyFormatCurrency","money_format_currency","value","setCurrency","closeAllMenus"],"mappings":"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R,CAAJ;AAAA,SAAvB;AACA,aAAKsC,MAAL,GAAc,EAAd;AACD;AACF;;;;;;;;;ACrHH;AACA;AACA;AACA;AACA;;AAEA,SAAS,4BAAe;AACxB;AACA;AACA;AACA;;AAEA,SAAS,8BAAiB;AAC1B,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAS,yBAAY;AACrB,kBAAkB,8BAAiB;AACnC,mBAAmB,8BAAiB;AACpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA,iBAAiB,sBAAsB;AACvC;;AAEA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,YAAY;AACzB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA,IAAI,4BAAe;;AAEnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc,YAAY;AAC1B;;;AAGA,EAAE,yBAAY;AACd;;AAEA;AACA;AACA,eAAe,OAAO;AACtB;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA,eAAe,QAAQ;AACvB;AACA,eAAe,SAAS;AACxB;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,gBAAgB,QAAQ;AACxB;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA,SAAS;AACT;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI,4BAAe;;AAEnB;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,YAAY;AACzB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB,aAAa,SAAS;AACtB;AACA,cAAc;AACd;;;AAGA,EAAE,yBAAY;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,UAAU;AACzB;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAE+D;;;;;;;;;AC5X/D;;IAEMI,iC;;;AACJ,8BAAc;AAAA;;AACZ,SAAKvC,EAAL,GAAU/D,QAAQ,CAACC,aAAT,CAAuB,wBAAvB,CAAV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","file":"StaticHeader.bundle.js","sourcesContent":["import $ from 'jquery';\n\nexport default class Accordion {\n  constructor($el, options = {}) {\n    this.$el = $el;\n\n    this.options = $.extend({}, {\n      activeClass: 'accordion--active',\n      autoCollapse: false,\n      content: '[data-accordion-content]',\n      eligibleClass: 'has-accordion',\n    }, options);\n  }\n\n  toggle($block, open = false) {\n    if (open || !$block.hasClass(this.options.activeClass)) {\n      if (this.options.autoCollapse) this.closeOpen();\n      this._open($block);\n    } else {\n      this._close($block);\n    }\n  }\n\n  closeOpen() {\n    $(this.$el.find(`.${this.options.activeClass}`)).each((i, block) => {\n      const $block = $(block);\n      if ($block.hasClass(this.options.activeClass)) {\n        this._close($block);\n      }\n    });\n  }\n\n  openAll() {\n    $(this.$el.find(`.${this.options.eligibleClass}`)).each((i, block) => {\n      this._open($(block), 0);\n    });\n  }\n\n  _open($block) {\n    $block.addClass(this.options.activeClass);\n  }\n\n  _close($block) {\n    $block.removeClass(this.options.activeClass);\n  }\n}\n","import layout from '../Layout';\n\nexport default class StickyHeader {\n  constructor(options, settings) {\n    this.body = document.querySelector('body');\n    this.header = document.querySelector('[data-site-header]');\n    this.menu = this.header.querySelector('[data-site-navigation]');\n    this.menuToggle = options.menuToggle;\n    this.postMessage = options.postMessage;\n\n    this.settings = settings;\n    this.transitioning = false;\n    this.lastToggle = Date.now() - 1000;\n\n    this.stickyClass = 'site-header-sticky';\n    this.scrolledClass = 'site-header-sticky--scrolled';\n    this.navOpenClass = 'site-header-nav--open';\n\n    this._toggleStickyHeader = this._toggleStickyHeader.bind(this);\n    this._toggleMenu = this._toggleMenu.bind(this);\n\n    if (this.settings.sticky_header) {\n      this.body.classList.add(this.stickyClass);\n      window.requestAnimationFrame(() => {\n        // If browser doesn't support sticky, we don't want any of the sticky functionality.\n        if (window.getComputedStyle(this.header).position.indexOf('sticky') > -1) {\n          this.observer = new IntersectionObserver(entries => this._toggleStickyHeader(entries));\n          this.observer.observe(document.querySelector('[data-header-intersection-target]'));\n\n          this.toggleClick = event => {\n            event.preventDefault();\n            if (layout.isGreaterThanBreakpoint('M')) this._toggleMenu();\n          };\n\n          this.menuToggle.addEventListener('click', this.toggleClick);\n        }\n      });\n    }\n  }\n\n  closeNavigation() {\n    if (this.transitioning) { return; }\n\n    this.menuToggle.classList.remove('active');\n\n    this.navTransitionOutEvent = () => {\n      this.header.classList.remove(this.navOpenClass);\n      this.transitioning = false;\n      this.menu.removeEventListener('transitionend', this.navTransitionOutEvent);\n    };\n\n    this.menu.addEventListener('transitionend', this.navTransitionOutEvent);\n\n    this.transitioning = true;\n    this.menu.setAttribute('style', `margin-top: -${this.menu.getBoundingClientRect().height}px;`);\n\n    this.postMessage('nav:close-all');\n  }\n\n  openNavigation(onOpen = () => {}) {\n    if (this.transitioning || this.header.classList.contains(this.navOpenClass)) {\n      onOpen();\n      return;\n    }\n\n    this.menuToggle.classList.add('active');\n\n    this.navTransitionInEvent = () => {\n      this.transitioning = false;\n      this.menu.removeEventListener('transitionend', this.navTransitionInEvent);\n      onOpen();\n    };\n\n    this.menu.addEventListener('transitionend', this.navTransitionInEvent);\n\n    this.transitioning = true;\n\n    // We need to wait for the browser to set the display to 'block' before we set the margin\n    // This will help with ensuring the different animations/transitions happen in sequence\n    // and not at the same time.\n    window.requestAnimationFrame(() => {\n      this.header.classList.add(this.navOpenClass);\n\n      window.requestAnimationFrame(() => {\n        this.menu.setAttribute('style', 'margin-top: 0;');\n      });\n    });\n  }\n\n  _toggleMenu() {\n    if (this.header.classList.contains(this.navOpenClass)) {\n      this.closeNavigation();\n    } else {\n      this.openNavigation();\n    }\n  }\n\n  /**\n   * Sticky header only shows as sticky after scroll\n   *\n   * @private\n   */\n  _toggleStickyHeader(entries) {\n    if (this.body.classList.contains('scroll-lock') || !layout.isGreaterThanBreakpoint('M')) {\n      return;\n    }\n\n    const shouldShrink = !entries[0].isIntersecting;\n\n    // Sticky header is scrolled, is and is visible -- nothing more to do!\n    if (shouldShrink && this.header.classList.contains(this.scrolledClass)) {\n      return;\n    }\n\n    // We also check to make sure the toggle hasnt activated recently to stop jerky transitions\n    if (this.lastToggle + 500 > Date.now()) {\n      return;\n    }\n\n    this.lastToggle = Date.now();\n\n    if (shouldShrink) {\n      this._shrink();\n    } else {\n      this._expand();\n    }\n  }\n\n  _shrink() {\n    this.closeNavigation();\n    this.header.classList.add(this.scrolledClass);\n  }\n\n  _expand() {\n    this.openNavigation();\n    this.header.classList.remove(this.scrolledClass);\n    this.menuToggle.classList.remove('active');\n  }\n\n  unload() {\n    this.body.classList.remove(this.stickyClass);\n    this.body.classList.remove(this.scrolledClass);\n\n    if (this.observer) {\n      this.observer.disconnect();\n    }\n\n    this.menuToggle.removeEventListener('click', this.toggleClick);\n  }\n}\n","import $ from 'jquery';\n\nimport Accordion from '../../Accordion';\n\nexport default class NavMobileSubMenus {\n  constructor($el) {\n    this.$el = $el;\n\n    this.Accordion = new Accordion(this.$el, {\n      activeClass: 'visible',\n      content: '[data-accordion-content]',\n    });\n\n    // Sub menu selectors\n    this.activeMenuClass = 'navmenu-link-parent-active';\n    this.activeMenu = `.${this.activeMenuClass}`;\n    this.linkClass = 'navmenu-link-parent';\n    this.linkSelector = `.${this.linkClass}`;\n    this.navTrigger = '[data-navmenu-parent]';\n    this.subMenu = '[data-navmenu-submenu]';\n    this.buttonClass = 'navmenu-button';\n    this.buttonSelector = `.${this.buttonClass}`;\n\n    this._bindEvents();\n  }\n\n  unload() {\n    this.$el.off('.mobile-nav');\n\n    delete this.Accordion;\n  }\n\n  closeSubMenus($current) {\n    $current.find(this.activeMenu).each((index, el) => {\n      this._closeSubmenu($(el));\n    });\n  }\n\n  closeAllSubmenus() {\n    this.Accordion.closeOpen();\n  }\n\n  _bindEvents() {\n    // Prevent focus state from applying on mouse click\n    this.$el.on('mousedown.mobile-nav', '.navmenu-link', event => {\n      event.preventDefault();\n    });\n\n    this.$el.on('click.mobile-nav', `${this.navTrigger} > .navmenu-link-parent`, this._linkClicked.bind(this));\n\n    this.$el.on('click.mobile-nav', `${this.navTrigger} > .navmenu-button`, event => {\n      event.preventDefault();\n      this._toggleSubmenu(event);\n    });\n  }\n\n  _linkClicked(event) {\n    const $target = $(event.currentTarget);\n\n    if (!$target.hasClass(this.activeMenuClass)) {\n      event.preventDefault();\n      this._openSubmenu($target);\n    }\n  }\n\n  _toggleSubmenu(event) {\n    const $target = $(event.currentTarget);\n    const $link = $target.hasClass(this.linkClass)\n      ? $target : $target.siblings(this.linkSelector).first();\n\n    if ($link.hasClass(this.activeMenuClass)) {\n      this._closeSubmenu($target);\n    } else {\n      this._openSubmenu($target);\n    }\n  }\n\n  _openSubmenu($target) {\n    const $menu = $target.siblings(this.subMenu).first();\n    const $link = $target.hasClass(this.linkClass)\n      ? $target\n      : $target.siblings(this.linkSelector).first();\n    const $button = $target.hasClass(this.buttonClass)\n      ? $target\n      : $target.siblings(this.buttonSelector).first();\n\n    $menu.css('display', 'flex');\n\n    $link\n      .addClass(this.activeMenuClass)\n      .attr('aria-expanded', true);\n\n    $button.attr('aria-expanded', true);\n\n    this.Accordion.toggle($menu);\n  }\n\n  _closeSubmenu($target) {\n    const $menu = $target.siblings(this.subMenu).first();\n    const $link = $target.hasClass(this.linkClass)\n      ? $target\n      : $target.siblings(this.linkSelector).first();\n    const $button = $target.hasClass(this.buttonClass)\n      ? $target\n      : $target.siblings(this.buttonSelector).first();\n\n    $menu.one('transitionend', () => $menu.css('display', ''));\n\n    $link\n      .removeClass(this.activeMenuClass)\n      .attr('aria-expanded', false);\n\n    $button.attr('aria-expanded', false);\n\n    this.Accordion.toggle($menu);\n    this.closeSubMenus($menu);\n  }\n}\n","import $ from 'jquery';\n\nimport layout from '../../Layout';\nimport NavMobileSubMenus from './NavMobileSubMenus';\n\nexport default class NavMobile {\n  constructor(elements) {\n    this.$body = $(document.body);\n    this.$window = $(window);\n    this.$el = elements.$el;\n    this.$toggleOpen = elements.$toggleOpen;\n    this.isOpen = false;\n    this.subMenus = null;\n\n    this.$mobileNav = this.$el.find('[data-mobile-nav]');\n    this.$panel = this.$el.find('[data-mobile-nav-panel]');\n    this.$overlay = this.$el.find('[data-mobile-nav-overlay]');\n    this.$toggleClose = this.$el.find('[data-mobile-nav-close]');\n\n    // Revert navigation to original state on breakpoint change\n    this.layoutHandler = this.onBreakpointChange.bind(this);\n    layout.onBreakpointChange(this.layoutHandler);\n\n    this._bindEvents();\n  }\n\n  unload() {\n    this._close();\n    this.$window.off('resize.mobile-nav');\n    layout.offBreakpointChange(this.layoutHandler);\n  }\n\n  onBreakpointChange() {\n    if (layout.isGreaterThanBreakpoint('M') && this.isOpen) {\n      this._close();\n    }\n  }\n\n  _bindEvents() {\n    this.$toggleOpen.on('click.mobile-nav', event => {\n      event.preventDefault();\n\n      if (!layout.isGreaterThanBreakpoint('M')) this._open();\n    });\n\n    this.$window.on('resize.mobile-nav', () => {\n      this.$el.find('[data-menu-toggle]').removeClass('active');\n\n      if (this.isOpen) {\n        this._setPanelHeight();\n      }\n    });\n  }\n\n  _setPanelHeight() {\n    this.$panel.height(window.innerHeight);\n  }\n\n  _open() {\n    this.$body.addClass('scroll-lock');\n    this.isOpen = true;\n\n    // Activate Submenu handler\n    this.subMenus = new NavMobileSubMenus(this.$panel);\n    this._setPanelHeight();\n\n    // Animate in elements\n    this.$mobileNav\n      .addClass('animating animating-in')\n      .one('trend', () => {\n        this.$mobileNav\n          .removeClass('animating animating-in')\n          .addClass('visible')\n          .off('trend');\n      });\n\n    this.$mobileNav.focus();\n\n    // Event handlers\n    this.events = [\n      // Close menu when clicking on the overlay\n      this.$overlay.on('click.mobile-nav', event => this._close(event)),\n      this.$toggleClose.on('click.mobile-nav', event => this._close(event)),\n\n      // Disable scrolling on overlay and contactbar\n      this.$overlay.on('touchmove.mobile-nav', event => event.preventDefault()),\n    ];\n  }\n\n  _close(event = false) {\n    if (event) event.preventDefault();\n\n    this.$mobileNav\n      .addClass('animating animating-out')\n      .one('trend', () => {\n        this.$mobileNav\n          .removeClass('animating animating-out')\n          .removeClass('visible')\n          .off('trend');\n      });\n\n    this.$body.removeClass('scroll-lock');\n    this.isOpen = false;\n\n    // Close any open drop down menus\n    if (this.subMenus) {\n      this.subMenus.closeSubMenus(this.$el);\n      this.subMenus.closeAllSubmenus();\n\n      // Unbind Mobile sub menus\n      this.subMenus.unload();\n    }\n\n    // Unbind events\n    if (this.events) {\n      this.events.forEach($el => $el.off('.mobile-nav'));\n      this.events = [];\n    }\n  }\n}\n","\n  /*!\n   * @pixelunion/animations v0.1.0\n   * (c) 2019 Pixel Union\n   * Released under the UNLICENSED license.\n  */\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n/**\n * Promisified version of window.requestAnimationFrame.\n * @returns {Promise} Promise will resolve when requestAnimationFrame callback is run.\n */\nfunction raf() {\n  return new Promise(function (resolve) {\n    window.requestAnimationFrame(resolve);\n  });\n}\n/**\n * Represents an HTML element with associate states\n */\n\n\nvar Animation =\n/*#__PURE__*/\nfunction () {\n  /**\n   * @param {Object} options\n   * @param {HTMLElement}  options.el Target element\n   * @param {String} [options.state=initial] Initial state. This is also the default state.\n   * @param {String} [options.stateAttribute=data-revealer] Attribute name to update with state.\n   * @param {String} [options.stateChangeAttribute=data-revealer-transition] Attribute name to\n   * update with change of state.\n   * @param {String} [options.endEvent=transitionend] Event to listen for at end of state change.\n   * @param {Boolean} [options.hold=false] If true, changeAttribute will not be removed until the\n   * next state change.\n   * @param {Function} [options.onStart] Callback to execute immediate after\n   * applying stateChangeAttribute.\n   */\n  function Animation(options) {\n    _classCallCheck(this, Animation);\n\n    this._el = options.el;\n    this.cancelRunning = null;\n    this._state = options.state || 'initial';\n    this.initialState = this._state;\n    this.stateAttribute = options.stateAttribute || 'data-animation-state';\n    this.stateChangeAttribute = options.stateChangeAttribute || 'data-animation';\n    this.endEvent = options.endEvent || 'transitionend';\n    this.hold = !!options.hold;\n\n    this.onStart = options.onStart || function () {\n      /* do nothing */\n    };\n\n    this.activeEventHandler = null;\n  }\n  /**\n   * Returns target element\n   *\n   * @return {HTMLElement} Target element\n   */\n\n\n  _createClass(Animation, [{\n    key: \"isState\",\n\n    /**\n     * Check if a state is active\n     * @param {String} state State to compare\n     *\n     * @return {Boolean}\n     */\n    value: function isState(state) {\n      return state === this._state;\n    }\n    /**\n     * Sequences a change to a new state.\n     * @param {String} state Target state\n     *\n     * @param {Boolean} options.force Switch to final state immediately\n     *\n     * @param {Function} options.onStart Callback to execute immediately after\n     * applying stateChangeAttribute for this state change only.\n     *\n     * @param {Boolean} [options.hold=false] If true, changeAttribute will not be removed until the\n     * next state change.\n     *\n     * @return {Promise} Resolves when endEvent triggered\n     */\n\n  }, {\n    key: \"animateTo\",\n    value: function animateTo(state) {\n      var _this = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var from = this._el.dataset[this.stateAttribute] || this._state;\n      var to = state || this.initialState;\n      var force = options.force;\n      var hold = 'hold' in options ? options.hold : this.hold;\n      return new Promise(function (resolve) {\n        if (_this.cancelRunning) {\n          _this.cancelRunning();\n        }\n\n        if (from === to) {\n          // Removing this here fixes some lingering attributes. But why?\n          _this._el.removeAttribute(_this.stateChangeAttribute);\n\n          resolve(from, null);\n          return;\n        }\n\n        var running = true;\n\n        _this.cancelRunning = function () {\n          running = false;\n          resolve(null, null);\n        };\n\n        _this._el.removeEventListener(_this.endEvent, _this.activeEventHandler);\n\n        _this.activeEventHandler = null;\n\n        if (force) {\n          _this._el.setAttribute(_this.stateChangeAttribute, \"\".concat(from, \"=>\").concat(to));\n\n          _this.onStart({\n            el: _this._el,\n            from: from,\n            to: to\n          });\n\n          if (typeof options.onStart === 'function') {\n            options.onStart({\n              el: _this._el,\n              from: from,\n              to: to\n            });\n          }\n\n          _this._el.setAttribute(_this.stateAttribute, to);\n\n          _this._state = to;\n\n          if (!hold) {\n            _this._el.removeAttribute(_this.stateChangeAttribute);\n          }\n\n          resolve(to, null);\n          return;\n        }\n\n        raf().then(function () {\n          if (!running) throw new Error('cancelled');\n\n          _this._el.setAttribute(_this.stateChangeAttribute, \"\".concat(from, \"=>\").concat(to));\n\n          _this.onStart({\n            el: _this._el,\n            from: from,\n            to: to\n          });\n\n          if (typeof options.onStart === 'function') {\n            options.onStart({\n              el: _this._el,\n              from: from,\n              to: to\n            });\n          }\n\n          return raf();\n        }).then(function () {\n          if (!running) throw new Error('cancelled');\n\n          _this._el.removeEventListener(_this.endEvent, _this.activeEventHandler);\n\n          _this.activeEventHandler = function (e) {\n            // Ignore any events bubbling up\n            if (e.target !== _this._el || !running) return;\n\n            _this._el.removeEventListener(_this.endEvent, _this.activeEventHandler);\n\n            if (!hold) {\n              _this._el.removeAttribute(_this.stateChangeAttribute);\n            }\n\n            resolve(to, e);\n          };\n\n          _this._el.addEventListener(_this.endEvent, _this.activeEventHandler);\n\n          _this._el.setAttribute(_this.stateAttribute, to);\n\n          _this._state = to;\n        })[\"catch\"](function (error) {\n          // Only catch 'cancelled' errors.\n          if (error.message !== 'cancelled') throw error;\n        });\n      });\n    }\n    /**\n     * Remove any event listeners\n     */\n\n  }, {\n    key: \"unload\",\n    value: function unload() {\n      this._el.removeEventListener(this.endEvent, this.activeEventHandler);\n\n      this.activeEventHandler = null;\n    }\n  }, {\n    key: \"el\",\n    get: function get() {\n      return this._el;\n    }\n    /**\n     * Returns current state\n     *\n     * @return {String} Current state\n     */\n\n  }, {\n    key: \"state\",\n    get: function get() {\n      return this._state;\n    }\n  }]);\n\n  return Animation;\n}();\n\n/**\n * Manage state changes for a set of elements\n */\n\nvar AnimationsManager =\n/*#__PURE__*/\nfunction () {\n  function AnimationsManager() {\n    _classCallCheck(this, AnimationsManager);\n\n    this.animations = new Map();\n  }\n  /**\n   * Add a new element and return an animation for that element. If element already has an associated animation, return that animation.\n   * @param {Object} options\n   * @param {HTMLElement}  options.el Target element\n   * @param {String} [options.state=initial] Initial state. This is also the default state.\n   * @param {String} [options.stateAttribute=data-revealer] Attribute name to update with state.\n   * @param {String} [options.stateChangeAttribute=data-revealer-transition] Attribute name to update with change of state.\n   * @param {String} [options.endEvent=transitionend] Event name to listen for at end of state change.\n   * @param {Boolean} [options.hold=false] If true, changeAttribute will not be removed until the next state change.\n   * @param {Function} [options.onStart] Callback to execute immediate after applying stateChangeAttribute.\n   *\n   * @return {Animation}\n   */\n\n\n  _createClass(AnimationsManager, [{\n    key: \"add\",\n    value: function add(options) {\n      if (this.animations.has(options.el)) return this.animations.get(options.el);\n      var animation = new Animation(options);\n      this.animations.set(options.el, animation);\n      return animation;\n    }\n    /**\n     * Remove a single animation\n     * @param {Animation} animation Animation to remove. Any event listeners will also be removed.\n     */\n\n  }, {\n    key: \"remove\",\n    value: function remove(animation) {\n      this.animations[\"delete\"](animation.el);\n      animation.unload();\n    }\n    /**\n     * Remove all animations, including all event listeners.\n     */\n\n  }, {\n    key: \"removeAll\",\n    value: function removeAll() {\n      this.animations.forEach(function (animation) {\n        return animation.unload();\n      });\n    }\n  }]);\n\n  return AnimationsManager;\n}();\n\nfunction animation(options) {\n  var setOptions = {\n    endEvent: 'animationend',\n    hold: true\n  };\n  return new Animation(_objectSpread2({\n    options: options\n  }, setOptions));\n}\n\nfunction transition(options) {\n  return new Animation(options);\n}\n\nexport { Animation, AnimationsManager, animation, transition };\n","import { transition } from '@pixelunion/animations';\n\nclass NavDesktopDimmer {\n  constructor() {\n    this.el = document.querySelector('[data-main-nav-dimmer]');\n    this.animation = transition({ el: this.el, state: 'closed' });\n    this.openers = new Set();\n  }\n\n  open(requestor) {\n    if (this.openers.has(requestor)) return;\n    this.openers.add(requestor);\n    this.animation.animateTo('open');\n  }\n\n  close(requestor) {\n    this.openers.delete(requestor);\n    if (this.openers.size) return;\n    this.animation.animateTo('closed');\n  }\n\n  unload() {\n    this.animation.unload();\n  }\n}\n\nexport default new NavDesktopDimmer();\n","import { transition } from '@pixelunion/animations';\n\nimport NavDesktopDimmer from './NavDesktopDimmer';\nimport NavDesktopMenu from './NavDesktopMenu'; // eslint-disable-line import/no-cycle\n\nexport default class NavDesktopParent {\n  constructor(el, options) {\n    this.listitem = el;\n    this.link = null;\n    this.submenu = null;\n    this._isOpen = false;\n    this.menu = null;\n    this.parentMenu = options.parentMenu;\n    this.closeSiblings = this.parentMenu.closeSiblings;\n\n    const { children } = this.listitem;\n\n    for (let i = 0; i < children.length; i++) {\n      if (children[i].classList.contains('navmenu-link')) {\n        this.link = children[i];\n      } else if (children[i].classList.contains('navmenu-submenu')) {\n        this.submenu = children[i];\n      }\n    }\n\n    this.animation = transition({ el: this.submenu, state: 'closed' });\n\n    this.open = () => {\n      this._open();\n    };\n    this.close = () => {\n      this._close();\n    };\n    this.closeEsc = e => {\n      if (e.key === 'Escape') {\n        this.link.focus();\n        this.close();\n      }\n    };\n\n    this.timer = null;\n    this.mouseover = () => {\n      this.open();\n      clearTimeout(this.timer);\n    };\n\n    this.mouseout = this.mouseout.bind(this);\n\n    this.click = e => {\n      e.stopPropagation();\n      // if already open, continue to link destination\n      if (!e.target.classList.contains('navmenu-link-parent') || this._isOpen) { return; }\n      e.preventDefault();\n      this.open();\n    };\n    this.focusin = e => {\n      e.stopPropagation();\n      if (e.target.classList.contains('navmenu-link-parent')) {\n        this.closeSiblings(this);\n      }\n    };\n\n    this.listitem.addEventListener('mouseover', this.mouseover);\n    this.listitem.addEventListener('mouseout', this.mouseout);\n    this.listitem.addEventListener('touchend', this.click);\n    this.listitem.addEventListener('click', this.click);\n    this.listitem.addEventListener('focusin', this.focusin);\n\n    document.body.addEventListener('click', this.close);\n    document.body.addEventListener('focusin', this.close);\n  }\n\n  get isOpen() {\n    return this._isOpen;\n  }\n\n  mouseout() {\n    this.timer = setTimeout(this.close, 400);\n  }\n\n  forceOpen() {\n    return this._open(true);\n  }\n\n  forceClose() {\n    return this._close(true);\n  }\n\n  _open() {\n    if (this._isOpen) return;\n\n    this._isOpen = true;\n    NavDesktopDimmer.open(this);\n    this.closeSiblings(this);\n    window.addEventListener('keydown', this.closeEsc);\n\n    if (!this.menu) {\n      this.menu = new NavDesktopMenu(this.submenu);\n    }\n\n    this.animation.animateTo('open', {\n      hold: true,\n      onStart: ({ el }) => {\n        let height = 0;\n        for (let i = 0; i < el.children.length; i++) {\n          height += el.children[i].offsetHeight;\n        }\n        const { paddingTop, paddingBottom } = window.getComputedStyle(el);\n        height += parseInt(paddingTop, 10);\n        height += parseInt(paddingBottom, 10);\n\n        this.listitem.style.setProperty('--menu-open-height', `${height}px`);\n\n        // Check for alternate side dropdown\n        const bounds = this.submenu.getBoundingClientRect();\n        if (bounds.right > document.documentElement.clientWidth) {\n          this.listitem.classList.add('alternate-drop');\n        }\n      },\n    })\n      .then(state => {\n        if (state === 'open') {\n          this.link.setAttribute('aria-expanded', true);\n        }\n      });\n  }\n\n  _close(force = false) {\n    if (!this._isOpen) return;\n\n\n    if (this.menu) {\n      this.menu.unload();\n      this.menu = null;\n    }\n\n    this._isOpen = false;\n    window.removeEventListener('keydown', this.closeEsc);\n\n    NavDesktopDimmer.close(this);\n    this.animation.animateTo('closed', { force })\n      .then(state => {\n        if (state === 'closed') {\n          this.listitem.classList.remove('alternate-drop');\n          this.link.setAttribute('aria-expanded', false);\n          this.parentMenu.openSelectedBlock();\n        }\n      });\n  }\n\n  unload() {\n    this.forceClose();\n    this.listitem.removeEventListener('mouseover', this.mouseover);\n    this.listitem.removeEventListener('mouseout', this.mouseout);\n    this.listitem.removeEventListener('touchend', this.click);\n    this.listitem.removeEventListener('click', this.click);\n    this.listitem.removeEventListener('focusin', this.focusin);\n\n    window.removeEventListener('keydown', this.closeEsc);\n    document.body.removeEventListener('click', this.bodyClose);\n    document.body.removeEventListener('focusin', this.focusInClose);\n\n    this.animation.unload();\n  }\n}\n","import NavDesktopDimmer from './NavDesktopDimmer';\nimport NavDesktopParent from './NavDesktopParent'; // eslint-disable-line import/no-cycle\n\nexport default class NavDesktopMeganavParent extends NavDesktopParent {\n  get content() {\n    return this.submenu.querySelector('.navmenu-meganav-wrapper');\n  }\n\n  get openHeight() {\n    return this._openHeight;\n  }\n\n  get blockId() {\n    return this.submenu.dataset.meganavId;\n  }\n\n  mouseout() {\n    // This prevents the menu from closing on mouseout when it's selected in the TE\n    if (!this.parentMenu.shouldBlockClose(this)) return;\n    this.timer = setTimeout(this.close, 400);\n  }\n\n  _open(force = false) {\n    if (this._isOpen) return;\n\n    this._isOpen = true;\n    window.addEventListener('keydown', this.closeEsc);\n\n    // Handles the special meganav to meganav transition behaviour, where\n    // the drawer appears to stay open and transition from old to new height\n    const resolveOpenMeganavs = new Promise(resolve => {\n      const { openMeganav } = this.parentMenu;\n\n      if (openMeganav) {\n        // Set height to start transitioning from: the open height of the previous meganav\n        this.listitem.style.setProperty('--menu-closed-height', `${openMeganav.openHeight}px`);\n\n        // Inject old meganav ghost content\n        const meganavGhostContent = openMeganav.content.cloneNode(true);\n        const { width, left } = openMeganav.content.getBoundingClientRect();\n        meganavGhostContent.classList.add('meganav-ghost');\n\n        // Set styles to absolutely position ghost content correctly\n        meganavGhostContent.style.left = `${left}px`;\n        meganavGhostContent.style.width = `${width}px`;\n\n        this.submenu.appendChild(meganavGhostContent);\n\n        NavDesktopDimmer.open(this);\n\n        // Jump to ghost state\n        this.animation.animateTo('ghost', { force: true })\n          // Close other meganav\n          .then(() => this.parentMenu.openMeganav.forceClose())\n          .then(resolve);\n      } else {\n        // If no other meganavs are open we can start immediately.\n        this.listitem.style.setProperty('--menu-closed-height', 0);\n        NavDesktopDimmer.open(this);\n        resolve();\n      }\n    });\n\n    resolveOpenMeganavs\n      .then(() => this.closeSiblings(this))\n      .then(() => this.animation.animateTo('open', {\n        force,\n        hold: !force,\n        onStart: ({ el }) => {\n          const wrapper = el.querySelector('.navmenu-meganav-wrapper');\n\n          const maxHeight = parseInt(window.getComputedStyle(wrapper).maxHeight, 10);\n          const height = isFinite(maxHeight) ? Math.min(wrapper.scrollHeight, maxHeight) : wrapper.scrollHeight;\n\n          this.listitem.style.setProperty('--menu-open-height', `${height}px`);\n          this._openHeight = height;\n        },\n      }))\n      .then(() => {\n        this.link.setAttribute('aria-expanded', true);\n        this.parentMenu.openMeganav = this;\n\n        // Rapid mouse movement can sometimes cancel animation before ghost is removed,\n        // so when things finally settle make sure we're removing all ghosts.\n        this.submenu.querySelectorAll('.meganav-ghost').forEach(ghost => {\n          ghost.parentNode.removeChild(ghost);\n        });\n      });\n  }\n\n  _close(force = false) {\n    // You would expect to see something like this to avoid \"double closing\" menus,\n    // but in practice it works more reliably to always run when the function is called,\n    // to avoid out-of-sync situations.\n    // if (!this._isOpen) return Promise.resolve();\n\n    if (this.parentMenu.openMeganav === this) {\n      this.parentMenu.openMeganav = null;\n    }\n\n    this._isOpen = false;\n    window.removeEventListener('keydown', this.closeEsc);\n    this.listitem.style.setProperty('--menu-closed-height', 0);\n\n    NavDesktopDimmer.close(this);\n\n    return this.animation.animateTo('closed', { force })\n      .then(() => {\n        this.link.setAttribute('aria-expanded', false);\n        this.parentMenu.openSelectedBlock();\n      });\n  }\n}\n","import NavDesktopParent from './NavDesktopParent'; // eslint-disable-line import/no-cycle\nimport NavDesktopMeganavParent from './NavDesktopMeganavParent'; // eslint-disable-line import/no-cycle\n\nexport default class NavDesktopMenu {\n  constructor({ children }) {\n    this.parents = [];\n    this.children = children;\n\n    // Meganav, if any, that is fully open (not animating).\n    this._openMeganav = null;\n\n    // Meganav, if any, that is selected for editing in the TE.\n    this._selectedBlock = null;\n    this._megaNavs = null;\n\n    this.closeSiblings = current => {\n      this.parents.forEach(parent => {\n        if (parent !== current) {\n          parent.close();\n        }\n      });\n    };\n\n    for (let i = 0; i < this.children.length; i++) {\n      const child = this.children[i];\n      if (child.dataset.navmenuMeganavTrigger !== undefined) {\n        this.parents.push(\n          new NavDesktopMeganavParent(\n            child,\n            { parentMenu: this },\n          ),\n        );\n      } else if (child.dataset.navmenuParent !== undefined) {\n        this.parents.push(\n          new NavDesktopParent(\n            child,\n            { parentMenu: this },\n          ),\n        );\n      } else if (child.classList.contains('navmenu-item')) {\n        child.addEventListener('focusin', this.closeSiblings);\n      }\n    }\n  }\n\n  get openMeganav() {\n    return this._openMeganav;\n  }\n\n  set openMeganav(meganav) {\n    this._openMeganav = meganav;\n  }\n\n  selectBlock(id) {\n    // This is TE only, so only initialize the first time a block is selected\n    if (!this._megaNavs) {\n      this._megaNavs = {};\n      this.parents\n        .filter(parent => parent instanceof NavDesktopMeganavParent)\n        .forEach(megaNav => {\n          this._megaNavs[megaNav.blockId] = megaNav;\n        });\n    }\n\n    const newSelectedBlock = this._megaNavs[id];\n\n    if (this._selectedBlock === newSelectedBlock) return;\n\n    if (this._selectedBlock) {\n      this._selectedBlock.close();\n    }\n\n    this._selectedBlock = this._megaNavs[id];\n\n    // Force open give a better experience when changing settings.\n    // Otherwise the selected block visibly closes and reopens after every\n    // settings change.\n    this._selectedBlock.forceOpen();\n  }\n\n  openSelectedBlock() {\n    if (this._selectedBlock && this.parents.filter(parent => parent.isOpen).length === 0) {\n      this._selectedBlock.open();\n    }\n  }\n\n  // If a block is open and selected in the TE and no other blocks are open\n  // we don't want to close it when we normally would.\n  shouldBlockClose(block) {\n    if (block === this._selectedBlock\n      && this.parents.filter(parent => parent.isOpen).length === 1) {\n      return false;\n    }\n    return true;\n  }\n\n  closeAllMenus() {\n    this._selectedBlock = null;\n    this.parents.forEach(parent => parent.close());\n  }\n\n  unload() {\n    this.parents.forEach(parent => { parent.unload(); });\n    for (let i = 0; i < this.children.length; i++) {\n      this.children[i].removeEventListener('focusin', this.closeSiblings);\n    }\n  }\n}\n","import $ from 'jquery';\nimport CurrencyConverter from 'shopify-currency-converter';\nimport $script from 'scriptjs';\n\nimport Forms from '../Forms';\nimport layout from '../Layout';\nimport StickyHeader from '../components/StickyHeader';\nimport NavMobile from '../components/navigation/NavMobile';\nimport NavDesktopMenu from '../components/navigation/NavDesktopMenu';\nimport LiveSearch from '../components/search/LiveSearch';\nimport SearchForm from '../components/search/SearchForm';\n\nexport default class StaticHeader {\n  constructor(section) {\n    this.$el = $(section.el);\n    this.settings = section.data.settings;\n    this.currency = section.data.currency;\n    this.postMessage = section.postMessage;\n    this.headerSearch = null;\n\n    this.$scripts = $('[data-scripts]');\n\n    this.$menuToggle = this.$el.find('[data-menu-toggle]');\n    this.$cartCount = this.$el.find('[data-header-cart-count]');\n    this.$searchField = this.$el.find('[data-live-search]');\n\n    this.$siteNavigation = this.$el.find('[data-site-navigation]');\n    this.$desktopNavigation = this.$siteNavigation.find('ul.navmenu-depth-1');\n    this.$headerTools = this.$siteNavigation.find('[data-header-actions]');\n\n    this.converter = '[data-currency-converter]';\n    this.$converter = $(this.converter);\n\n    this.stickyHeader = new StickyHeader({\n      header: this.$el[0],\n      menuToggle: this.$menuToggle[0],\n      postMessage: this.postMessage,\n    }, this.settings);\n\n    this.navMobile = new NavMobile({\n      $el: this.$el,\n      $toggleOpen: this.$menuToggle,\n    });\n\n    this.navDesktop = new NavDesktopMenu(document.querySelector('.site-navigation > [data-navmenu]'));\n\n    this.forms = new Forms(this.$el);\n\n    if (this.settings.live_search.enable) {\n      $script(this.$scripts.data('shopify-api-url'), () => {\n        this.headerSearch = new LiveSearch({\n          $el: this.$searchField,\n          $header: this.$el,\n        }, this.settings.live_search);\n        this.mobileSearchButtonOnClick = e => {\n          e.stopPropagation();\n          this.headerSearch.open();\n        };\n        this.mobileSearchButtonEl = section.el.querySelector('[data-mobile-search-button]');\n\n        if (this.mobileSearchButtonEl) {\n          this.mobileSearchButtonEl.addEventListener('click', this.mobileSearchButtonOnClick);\n        }\n      });\n    } else {\n      this.headerSearch = new SearchForm(this.$searchField);\n    }\n\n    if (this.currency.enable) {\n      // we assume currencies.js has been loaded\n      this._converter();\n    }\n\n    $(window).on('cartcount:update', (event, data) => {\n      this.$cartCount\n        .attr('data-header-cart-count', data.response.item_count)\n        .toggleClass('visible', data.response.item_count > 0);\n    });\n  }\n\n  onSectionSelect() {\n    this.stickyHeader.openNavigation();\n  }\n\n  onSectionDeselect() {\n    this._closeAllNavigation();\n  }\n\n  onSectionUnload() {\n    this.stickyHeader.unload();\n    this.navMobile.unload();\n    this.navDesktop.unload();\n    this.forms.unload();\n\n    $(window).off('cartcount:update');\n\n    this.headerSearch.unload();\n\n    if (this.currency.enable) {\n      this.$converter.off('change.converter');\n    }\n\n    if (this.mobileSearchButtonEl) {\n      this.mobileSearchButtonEl.removeEventListener('click', this.mobileSearchButtonOnClick);\n    }\n  }\n\n  onSectionMessage(name) {\n    if (name === 'nav:close-all' && layout.isGreaterThanBreakpoint('M')) {\n      this._closeAllNavigation();\n    }\n  }\n\n  onSectionBlockSelect(block) {\n    if (!layout.isGreaterThanBreakpoint('M')) {\n      return;\n    }\n\n    this.stickyHeader.openNavigation(() => {\n      this.navDesktop.selectBlock(block.id);\n    });\n  }\n\n  onSectionBlockDeselect() {\n    this._closeAllNavigation();\n  }\n\n  _converter() {\n    CurrencyConverter.init({\n      switcherSelector: this.converter,\n      priceSelector: '.money',\n      shopCurrency: this.currency.shop_currency,\n      defaultCurrency: this.currency.default_currency,\n      displayFormat: this.currency.display_format,\n      moneyFormat: this.currency.money_format,\n      moneyFormatNoCurrency: this.currency.money_format_no_currency,\n      moneyFormatCurrency: this.currency.money_format_currency,\n    });\n\n    this.$converter.on('change.converter', event => {\n      this.$converter.each((index, converter) => {\n        if (converter.value !== event.currentTarget.value) {\n          converter.value = event.currentTarget.value; // eslint-disable-line no-param-reassign\n        }\n      });\n\n      CurrencyConverter.setCurrency(event.currentTarget.value);\n    });\n  }\n\n  _closeAllNavigation() {\n    this.navDesktop.closeAllMenus();\n  }\n}\n"],"sourceRoot":""}