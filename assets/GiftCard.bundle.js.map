{"version":3,"sources":["webpack:///./source/scripts/templates/GiftCard.js"],"names":["GiftCard","el","document","querySelector","$el","$","qrCode","giftCardCode","_bindEvents","addQrCode","QRCode","text","data","width","height","on","window","print","_selectText","range","selection","body","createTextRange","moveToElementText","select","getSelection","createRange","selectNodeContents","removeAllRanges","addRange"],"mappings":";;;;;;;;;;;;;;;;AAAA;;IAEqBA,Q;;;AACnB,sBAAc;AAAA;;AACZ,SAAKC,EAAL,GAAUC,QAAQ,CAACC,aAAT,CAAuB,WAAvB,CAAV;AACA,SAAKC,GAAL,GAAWC,6CAAC,CAAC,KAAKJ,EAAN,CAAZ;AACA,SAAKK,MAAL,GAAc,KAAKL,EAAL,CAAQE,aAAR,CAAsB,oBAAtB,CAAd;AACA,SAAKI,YAAL,GAAoB,KAAKN,EAAL,CAAQE,aAAR,CAAsB,sBAAtB,CAApB;;AAEA,SAAKK,WAAL;;AACA,SAAKC,SAAL;AACD;;;;gCAEW;AACV,aAAO,IAAIC,MAAJ,CAAW,KAAKJ,MAAhB,EAAwB;AAC7BK,YAAI,EAAEN,6CAAC,CAAC,KAAKC,MAAN,CAAD,CAAeM,IAAf,CAAoB,aAApB,CADuB;AAE7BC,aAAK,EAAE,GAFsB;AAG7BC,cAAM,EAAE;AAHqB,OAAxB,CAAP;AAKD;;;kCAEa;AAAA;;AACZ,WAAKV,GAAL,CAASW,EAAT,CAAY,OAAZ,EAAqB,uBAArB,EAA8C,YAAM;AAClDC,cAAM,CAACC,KAAP;AACD,OAFD,EADY,CAKZ;;AACA,WAAKb,GAAL,CAASW,EAAT,CAAY,OAAZ,EAAqB,sBAArB,EAA6C,YAAM;AACjD,aAAI,CAACG,WAAL;AACD,OAFD;AAGD;;;kCAEa;AACZ,UAAIC,KAAK,GAAG,EAAZ;AACA,UAAIC,SAAJ;;AAEA,UAAIlB,QAAQ,CAACmB,IAAT,CAAcC,eAAlB,EAAmC;AAAE;AACnCH,aAAK,GAAGjB,QAAQ,CAACmB,IAAT,CAAcC,eAAd,EAAR;AACAH,aAAK,CAACI,iBAAN,CAAwB,KAAKhB,YAA7B;AACAY,aAAK,CAACK,MAAN;AACD,OAJD,MAIO,IAAIR,MAAM,CAACS,YAAX,EAAyB;AAAE;AAChCL,iBAAS,GAAGJ,MAAM,CAACS,YAAP,EAAZ;AACAN,aAAK,GAAGjB,QAAQ,CAACwB,WAAT,EAAR;AACAP,aAAK,CAACQ,kBAAN,CAAyB,KAAKpB,YAA9B;AACAa,iBAAS,CAACQ,eAAV;AACAR,iBAAS,CAACS,QAAV,CAAmBV,KAAnB;AACD;AACF","file":"GiftCard.bundle.js","sourcesContent":["import $ from 'jquery';\n\nexport default class GiftCard {\n  constructor() {\n    this.el = document.querySelector('.giftcard');\n    this.$el = $(this.el);\n    this.qrCode = this.el.querySelector('[data-giftcard-qr]');\n    this.giftCardCode = this.el.querySelector('[data-giftcard-code]');\n\n    this._bindEvents();\n    this.addQrCode();\n  }\n\n  addQrCode() {\n    return new QRCode(this.qrCode, {\n      text: $(this.qrCode).data('giftcard-qr'),\n      width: 120,\n      height: 120,\n    });\n  }\n\n  _bindEvents() {\n    this.$el.on('click', '[data-giftcard-print]', () => {\n      window.print();\n    });\n\n    // Auto-select gift card code on click, based on ID passed to the function\n    this.$el.on('click', '[data-giftcard-code]', () => {\n      this._selectText();\n    });\n  }\n\n  _selectText() {\n    let range = '';\n    let selection;\n\n    if (document.body.createTextRange) { // ms method\n      range = document.body.createTextRange();\n      range.moveToElementText(this.giftCardCode);\n      range.select();\n    } else if (window.getSelection) { // moz, opera, webkit method\n      selection = window.getSelection();\n      range = document.createRange();\n      range.selectNodeContents(this.giftCardCode);\n      selection.removeAllRanges();\n      selection.addRange(range);\n    }\n  }\n}\n"],"sourceRoot":""}