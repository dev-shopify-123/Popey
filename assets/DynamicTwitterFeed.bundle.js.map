{"version":3,"sources":["webpack:///./node_modules/twitter-fetcher/js/twitterFetcher_min.js","webpack:///./source/scripts/Layout.js","webpack:///./source/scripts/sections/DynamicTwitterFeed.js","webpack:///./node_modules/just-debounce/index.js"],"names":["eventHandlers","previousBreakpoint","getBreakpoints","window","getComputedStyle","document","documentElement","getPropertyValue","replace","split","getBreakpoint","$","on","event","currentBreakpoint","forEach","eventHandler","previous","current","isLessThanBreakpoint","breakpoint","inclusive","breakpoints","comparison","indexOf","isGreaterThanBreakpoint","isBreakpoint","some","onBreakpointChange","push","offBreakpointChange","index","splice","DynamicTwitterFeed","section","$el","el","settings","data","_load","$window","flickity","$content","find","$wrapper","$tweets","$template","template","onboarding","username","retweets","images","locale","_mobileSlider","bind","layout","twitterFetcher","fetch","profile","screenName","maxTweets","enableLinks","showUser","showTime","dataOnly","useEmoji","showImages","showRetweet","lang","customCallback","tweets","_renderTweets","showInteraction","off","_destroyFlickity","Flickity","cellSelector","contain","freeScroll","percentPosition","prevNextButtons","pageDots","setGallerySize","_bindSlider","destroy","_initFlickity","$slider","debounce","trigger","height","Math","ceil","maxCellHeight","link","attr","name","text","$avatar","postedAt","wrapperClass","match","tweetsLength","length","tweetsArray","tweet","$tweet","clone","authorInfo","_extractAuthor","meta","_extractMeta","content","html","append","css","fadeOut","promise","then","remove","removeClass","_extractWrapperClass","addClass"],"mappings":"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","file":"DynamicTwitterFeed.bundle.js","sourcesContent":["/*********************************************************************\n*  #### Twitter Post Fetcher v17.0.3 ####\n*  Coded by Jason Mayes 2015. A present to all the developers out there.\n*  www.jasonmayes.com\n*  Please keep this disclaimer with my code if you use it. Thanks. :-)\n*  Got feedback or questions, ask here:\n*  http://www.jasonmayes.com/projects/twitterApi/\n*  Github: https://github.com/jasonmayes/Twitter-Post-Fetcher\n*  Updates will be posted to this site.\n*********************************************************************/\n!function(e,t){\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?module.exports=t():t()}(0,function(){var e=\"\",t=20,a=!0,i=[],n=!1,s=!0,l=!0,r=null,o=!0,c=!0,d=null,m=!0,u=!1,p=!1,g=!0,h=\"en\",w=!0,f=!1,v=null;function b(e){return e.replace(/<b[^>]*>(.*?)<\\/b>/gi,function(e,t){return t}).replace(/class=\"(?!(tco-hidden|tco-display|tco-ellipsis))+.*?\"|data-query-source=\".*?\"|dir=\".*?\"|rel=\".*?\"/gi,\"\")}function _(e){for(var t=e.getElementsByTagName(\"a\"),a=t.length-1;a>=0;a--)t[a].setAttribute(\"target\",\"_blank\")}function y(e,t){for(var a=[],i=new RegExp(\"(^| )\"+t+\"( |$)\"),n=e.getElementsByTagName(\"*\"),s=0,l=n.length;s<l;s++)i.test(n[s].className)&&a.push(n[s]);return a}function T(e){if(void 0!==e&&e.innerHTML.indexOf(\"data-image\")>=0){var t=e.innerHTML.split('data-image=\"')[1].split('\"')[0];return decodeURIComponent(t)+\".jpg\"}}var k={fetch:function(o){if(void 0===o.maxTweets&&(o.maxTweets=20),void 0===o.enableLinks&&(o.enableLinks=!0),void 0===o.showUser&&(o.showUser=!0),void 0===o.showTime&&(o.showTime=!0),void 0===o.dateFunction&&(o.dateFunction=\"default\"),void 0===o.showRetweet&&(o.showRetweet=!0),void 0===o.customCallback&&(o.customCallback=null),void 0===o.showInteraction&&(o.showInteraction=!0),void 0===o.showImages&&(o.showImages=!1),void 0===o.useEmoji&&(o.useEmoji=!1),void 0===o.linksInNewWindow&&(o.linksInNewWindow=!0),void 0===o.showPermalinks&&(o.showPermalinks=!0),void 0===o.dataOnly&&(o.dataOnly=!1),n)i.push(o);else{n=!0,e=o.domId,t=o.maxTweets,a=o.enableLinks,l=o.showUser,s=o.showTime,c=o.showRetweet,r=o.dateFunction,d=o.customCallback,m=o.showInteraction,u=o.showImages,p=o.useEmoji,g=o.linksInNewWindow,w=o.showPermalinks,f=o.dataOnly;var b=document.getElementsByTagName(\"head\")[0];null!==v&&b.removeChild(v),(v=document.createElement(\"script\")).type=\"text/javascript\",void 0!==o.list?v.src=\"https://syndication.twitter.com/timeline/list?callback=__twttrf.callback&dnt=false&list_slug=\"+o.list.listSlug+\"&screen_name=\"+o.list.screenName+\"&suppress_response_codes=true&lang=\"+(o.lang||h)+\"&rnd=\"+Math.random():void 0!==o.profile?v.src=\"https://syndication.twitter.com/timeline/profile?callback=__twttrf.callback&dnt=false&screen_name=\"+o.profile.screenName+\"&suppress_response_codes=true&lang=\"+(o.lang||h)+\"&rnd=\"+Math.random():void 0!==o.likes?v.src=\"https://syndication.twitter.com/timeline/likes?callback=__twttrf.callback&dnt=false&screen_name=\"+o.likes.screenName+\"&suppress_response_codes=true&lang=\"+(o.lang||h)+\"&rnd=\"+Math.random():v.src=\"https://cdn.syndication.twimg.com/widgets/timelines/\"+o.id+\"?&lang=\"+(o.lang||h)+\"&callback=__twttrf.callback&suppress_response_codes=true&rnd=\"+Math.random(),b.appendChild(v)}},callback:function(h){if(void 0===h||void 0===h.body)return n=!1,void(i.length>0&&(k.fetch(i[0]),i.splice(0,1)));p||(h.body=h.body.replace(/(<img[^c]*class=\"Emoji[^>]*>)|(<img[^c]*class=\"u-block[^>]*>)/g,\"\")),u||(h.body=h.body.replace(/(<img[^c]*class=\"NaturalImage-image[^>]*>|(<img[^c]*class=\"CroppedImage-image[^>]*>))/g,\"\")),l||(h.body=h.body.replace(/(<img[^c]*class=\"Avatar\"[^>]*>)/g,\"\"));var v=document.createElement(\"div\");function C(e){var t=e.getElementsByTagName(\"img\")[0];return t&&t.length&&(t.src=t.getAttribute(\"data-src-2x\")),e}v.innerHTML=h.body,void 0===v.getElementsByClassName&&(o=!1);var x=[],E=[],N=[],A=[],I=[],B=[],L=[],M=0;if(o)for(var H=v.getElementsByClassName(\"timeline-Tweet\");M<H.length;)H[M].getElementsByClassName(\"timeline-Tweet-retweetCredit\").length>0?I.push(!0):I.push(!1),(!I[M]||I[M]&&c)&&(x.push(H[M].getElementsByClassName(\"timeline-Tweet-text\")[0]),B.push(H[M].getAttribute(\"data-tweet-id\")),l&&E.push(C(H[M].getElementsByClassName(\"timeline-Tweet-author\")[0])),N.push(H[M].getElementsByClassName(\"dt-updated\")[0]),L.push(H[M].getElementsByClassName(\"timeline-Tweet-timestamp\")[0]),void 0!==H[M].getElementsByClassName(\"timeline-Tweet-media\")[0]?A.push(H[M].getElementsByClassName(\"timeline-Tweet-media\")[0]):A.push(void 0)),M++;else for(H=y(v,\"timeline-Tweet\");M<H.length;)y(H[M],\"timeline-Tweet-retweetCredit\").length>0?I.push(!0):I.push(!1),(!I[M]||I[M]&&c)&&(x.push(y(H[M],\"timeline-Tweet-text\")[0]),B.push(H[M].getAttribute(\"data-tweet-id\")),l&&E.push(C(y(H[M],\"timeline-Tweet-author\")[0])),N.push(y(H[M],\"dt-updated\")[0]),L.push(y(H[M],\"timeline-Tweet-timestamp\")[0]),void 0!==y(H[M],\"timeline-Tweet-media\")[0]?A.push(y(H[M],\"timeline-Tweet-media\")[0]):A.push(void 0)),M++;x.length>t&&(x.splice(t,x.length-t),E.splice(t,E.length-t),N.splice(t,N.length-t),I.splice(t,I.length-t),A.splice(t,A.length-t),L.splice(t,L.length-t));var R=[],j=(M=x.length,0);if(f)for(;j<M;)R.push({tweet:x[j].innerHTML,author:E[j]?E[j].innerHTML:\"Unknown Author\",author_data:{profile_url:E[j]?E[j].querySelector('[data-scribe=\"element:user_link\"]').href:null,profile_image:E[j]?E[j].querySelector('[data-scribe=\"element:avatar\"]').getAttribute(\"data-src-1x\"):null,profile_image_2x:E[j]?E[j].querySelector('[data-scribe=\"element:avatar\"]').getAttribute(\"data-src-2x\"):null,screen_name:E[j]?E[j].querySelector('[data-scribe=\"element:screen_name\"]').title:null,name:E[j]?E[j].querySelector('[data-scribe=\"element:name\"]').title:null},time:N[j].textContent,timestamp:N[j].getAttribute(\"datetime\").replace(\"+0000\",\"Z\").replace(/([\\+\\-])(\\d\\d)(\\d\\d)/,\"$1$2:$3\"),image:T(A[j]),rt:I[j],tid:B[j],permalinkURL:void 0===L[j]?\"\":L[j].href}),j++;else for(;j<M;){if(\"string\"!=typeof r){var q=N[j].getAttribute(\"datetime\"),P=new Date(N[j].getAttribute(\"datetime\").replace(/-/g,\"/\").replace(\"T\",\" \").split(\"+\")[0]),S=r(P,q);if(N[j].setAttribute(\"aria-label\",S),x[j].textContent)if(o)N[j].textContent=S;else{var U=document.createElement(\"p\"),F=document.createTextNode(S);U.appendChild(F),U.setAttribute(\"aria-label\",S),N[j]=U}else N[j].textContent=S}var O=\"\";a?(g&&(_(x[j]),l&&_(E[j])),l&&(O+='<div class=\"user\">'+b(E[j].innerHTML)+\"</div>\"),O+='<p class=\"tweet\">'+b(x[j].innerHTML)+\"</p>\",s&&(O+=w?'<p class=\"timePosted\"><a href=\"'+L[j]+'\">'+N[j].getAttribute(\"aria-label\")+\"</a></p>\":'<p class=\"timePosted\">'+N[j].getAttribute(\"aria-label\")+\"</p>\")):(x[j].textContent,l&&(O+='<p class=\"user\">'+E[j].textContent+\"</p>\"),O+='<p class=\"tweet\">'+x[j].textContent+\"</p>\",s&&(O+='<p class=\"timePosted\">'+N[j].textContent+\"</p>\")),m&&(O+='<p class=\"interact\"><a href=\"https://twitter.com/intent/tweet?in_reply_to='+B[j]+'\" class=\"twitter_reply_icon\"'+(g?' target=\"_blank\">':\">\")+'Reply</a><a href=\"https://twitter.com/intent/retweet?tweet_id='+B[j]+'\" class=\"twitter_retweet_icon\"'+(g?' target=\"_blank\">':\">\")+'Retweet</a><a href=\"https://twitter.com/intent/favorite?tweet_id='+B[j]+'\" class=\"twitter_fav_icon\"'+(g?' target=\"_blank\">':\">\")+\"Favorite</a></p>\"),u&&void 0!==A[j]&&void 0!==T(A[j])&&(O+='<div class=\"media\"><img src=\"'+T(A[j])+'\" alt=\"Image from tweet\" /></div>'),u?R.push(O):!u&&x[j].textContent.length&&R.push(O),j++}!function(t){if(null===d){for(var a=t.length,i=0,n=document.getElementById(e),s=\"<ul>\";i<a;)s+=\"<li>\"+t[i]+\"</li>\",i++;s+=\"</ul>\",n.innerHTML=s}else d(t)}(R),n=!1,i.length>0&&(k.fetch(i[0]),i.splice(0,1))}};return window.__twttrf=k,window.twitterFetcher=k,k});\n","import $ from 'jquery';\n\nconst eventHandlers = [];\nlet previousBreakpoint = null;\n\nfunction getBreakpoints() {\n  return window\n    .getComputedStyle(document.documentElement, ':before')\n    .getPropertyValue('content')\n    .replace(/\"/g, '')\n    .split(',');\n}\n\nfunction getBreakpoint() {\n  return window\n    .getComputedStyle(document.documentElement, ':after')\n    .getPropertyValue('content')\n    .replace(/\"/g, '');\n}\n\n$(window).on('resize', event => {\n  const currentBreakpoint = getBreakpoint();\n\n  if (previousBreakpoint !== currentBreakpoint) {\n    eventHandlers.forEach(eventHandler => {\n      eventHandler(event, {\n        previous: previousBreakpoint,\n        current: currentBreakpoint,\n      });\n    });\n  }\n\n  previousBreakpoint = currentBreakpoint;\n});\n\nfunction isLessThanBreakpoint(breakpoint, inclusive = false) {\n  const breakpoints = getBreakpoints();\n  const currentBreakpoint = getBreakpoint();\n  const comparison = breakpoints.indexOf(currentBreakpoint) - breakpoints.indexOf(breakpoint);\n\n  return inclusive ? comparison <= 0 : comparison < 0;\n}\n\nfunction isGreaterThanBreakpoint(breakpoint, inclusive = false) {\n  const breakpoints = getBreakpoints();\n  const currentBreakpoint = getBreakpoint();\n  const comparison = breakpoints.indexOf(currentBreakpoint) - breakpoints.indexOf(breakpoint);\n\n  return inclusive ? comparison >= 0 : comparison > 0;\n}\n\nfunction isBreakpoint(...breakpoints) {\n  const currentBreakpoint = getBreakpoint();\n  return breakpoints.some(breakpoint => breakpoint === currentBreakpoint);\n}\n\nfunction onBreakpointChange(eventHandler) {\n  if (eventHandlers.indexOf(eventHandler) === -1) {\n    eventHandlers.push(eventHandler);\n  }\n}\n\nfunction offBreakpointChange(eventHandler) {\n  const index = eventHandlers.indexOf(eventHandler);\n\n  if (index !== -1) {\n    eventHandlers.splice(index, 1);\n  }\n}\n\nexport default {\n  isLessThanBreakpoint,\n  isGreaterThanBreakpoint,\n  isBreakpoint,\n  onBreakpointChange,\n  offBreakpointChange,\n};\n","import $ from 'jquery';\nimport twitterFetcher from 'twitter-fetcher';\nimport debounce from 'just-debounce';\nimport Flickity from 'flickity';\n\nimport layout from '../Layout';\n\nexport default class DynamicTwitterFeed {\n  constructor(section) {\n    this.$el = $(section.el);\n    this.settings = section.data;\n    this._load();\n  }\n\n  _load() {\n    this.$window = $(window);\n    this.flickity = null;\n\n    this.$content = this.$el.find('[data-twitter-content]');\n    this.$wrapper = this.$el.find('[data-twitter-wrapper]');\n    this.$tweets = this.$el.find('[data-tweet-content]');\n\n    this.$template = $(this.settings.template);\n\n    const {\n      onboarding,\n      username,\n      retweets,\n      images,\n    } = this.settings;\n    const locale = this.settings.locale || 'en';\n\n    // Activate flickity on mobile\n    this._mobileSlider = this._mobileSlider.bind(this);\n    layout.onBreakpointChange(this._mobileSlider);\n    this._mobileSlider();\n\n    if (onboarding || !username) {\n      return;\n    }\n\n    twitterFetcher.fetch({\n      profile: { screenName: username },\n      maxTweets: 3,\n      enableLinks: true,\n      showUser: true,\n      showTime: true,\n      dataOnly: false,\n      useEmoji: true,\n      showImages: images,\n      showRetweet: retweets,\n      lang: locale,\n      customCallback: tweets => this._renderTweets(tweets),\n      showInteraction: false,\n    });\n  }\n\n  /**\n   * Unbind events when section is re-drawn\n   */\n  onSectionUnload() {\n    this.$window.off('.twitter');\n    this.$content.off('.twitter');\n\n    layout.offBreakpointChange(this._mobileSlider);\n    this._destroyFlickity();\n  }\n\n  _initFlickity() {\n    this.flickity = new Flickity(this.$content[0], {\n      cellSelector: '[data-tweet-content]',\n      contain: true,\n      freeScroll: true,\n      percentPosition: false,\n      prevNextButtons: false,\n      pageDots: false,\n      setGallerySize: false,\n    });\n\n    this._bindSlider();\n  }\n\n  _destroyFlickity() {\n    if (!this.flickity) {\n      return;\n    }\n\n    this.flickity.destroy();\n    this.flickity = null;\n  }\n\n  _mobileSlider() {\n    // If is Large layout, attempt to destroy flickity\n    if (layout.isGreaterThanBreakpoint('M')) {\n      this._destroyFlickity();\n      return;\n    }\n\n    // Is XS/S/M, and flickity is init'd -- do nothing\n    if (this.flickity) {\n      return;\n    }\n\n    // Is XS/S/M, and flickity is not init'd\n    this._initFlickity();\n  }\n\n  _bindSlider() {\n    const $slider = this.$content.find('.flickity-slider');\n\n    this.$window.on('resize.twitter', debounce(() => {\n      this.$content.trigger('heightUpdate.twitter');\n    }));\n\n    this.flickity.on('cellSelect', () => {\n      this.$content.trigger('heightUpdate.twitter');\n    });\n\n    this.$content.on('heightUpdate.twitter', () => {\n      if (!this.flickity) {\n        return;\n      }\n\n      $slider.height(Math.ceil(this.flickity.maxCellHeight));\n    });\n\n    // Sets the Slider to the height of the first slide\n    this.$content.trigger('heightUpdate.twitter');\n  }\n\n  /**\n   * Retrieve information about user who tweeted\n   *\n   * @param el\n   * @returns {{$avatar: *, link: *, name, screenName}}\n   * @private\n   */\n  _extractAuthor(el) {\n    const $el = $(el);\n\n    const link = $el.find('a').attr('href');\n    const name = $el.find('[data-scribe=\"element:name\"]').text();\n    const screenName = $el.find('[data-scribe=\"element:screen_name\"]').text();\n    const $avatar = $el.find('img');\n\n    return {\n      $avatar,\n      link,\n      name,\n      screenName,\n    };\n  }\n\n  /**\n   * Retrieve link to tweet, and when it was tweeted\n   *\n   * @param el\n   * @returns {{link: *, postedAt: *}}\n   * @private\n   */\n  _extractMeta(el) {\n    const $el = $(el);\n\n    const link = $el.find('a').attr('href');\n    const postedAt = $el.text();\n\n    return { link, postedAt };\n  }\n\n  _extractWrapperClass() {\n    const wrapperClass = this.$wrapper.attr('class').match(/tweet--count-\\d+$/);\n\n    if (wrapperClass) {\n      return wrapperClass[0];\n    }\n\n    return '';\n  }\n\n  _renderTweets(tweets) {\n    const tweetsLength = tweets.length;\n\n    if (!tweets || !tweetsLength) return;\n\n    const tweetsArray = [];\n    const wrapperClass = `tweet--count-${tweetsLength}`;\n\n    tweets.forEach(tweet => {\n      const $tweet = $(tweet);\n\n      const $template = this.$template.clone();\n      const authorInfo = this._extractAuthor($tweet[0]);\n      const meta = this._extractMeta($tweet[2]);\n\n      const content = $tweet[1];\n\n      // Render header\n      $template\n        .find('.tweet--header')\n        .attr('href', authorInfo.link);\n\n      $template\n        .find('.tweet--header-image')\n        .html(authorInfo.$avatar);\n\n      $template\n        .find('.tweet--header-name')\n        .text(authorInfo.name);\n\n      $template\n        .find('.tweet--header-screenname')\n        .text(authorInfo.screenName);\n\n      // Render content\n      $template\n        .find('.tweet--content')\n        .append($tweet[3] ? $tweet[3] : null)\n        .append(content);\n\n      // Render footer\n      $template\n        .find('.tweet--footer')\n        .attr('href', meta.link)\n        .find('.tweet--footer--posted')\n        .text(meta.postedAt);\n\n      tweetsArray.push($template);\n    });\n\n    this.$wrapper.css('min-height', this.$wrapper.height());\n\n    this.$tweets.fadeOut().promise().then(() => {\n      this._destroyFlickity();\n      this.$tweets.remove();\n\n      this.$content.append(tweetsArray);\n\n      this.$wrapper\n        .removeClass(this._extractWrapperClass())\n        .addClass(wrapperClass)\n        .css('min-height', '');\n\n      this.$tweets = this.$el.find('[data-tweet-content]');\n\n      this._mobileSlider();\n    });\n  }\n}\n","module.exports = debounce\n\nfunction debounce (fn, delay, at_start, guarantee) {\n  var timeout\n  var args\n  var self\n\n  return function debounced () {\n    self = this\n    args = Array.prototype.slice.call(arguments)\n\n    if (timeout && (at_start || guarantee)) {\n      return\n    } else if (!at_start) {\n      clear()\n\n      timeout = setTimeout(run, delay)\n      return timeout\n    }\n\n    timeout = setTimeout(clear, delay)\n    fn.apply(self, args)\n\n    function run () {\n      clear()\n      fn.apply(self, args)\n    }\n\n    function clear () {\n      clearTimeout(timeout)\n      timeout = null\n    }\n  }\n}\n"],"sourceRoot":""}