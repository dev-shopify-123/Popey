{"version":3,"sources":["webpack:///./node_modules/shopify-asyncview/dist/index.es.js","webpack:///./source/scripts/components/Modal.js","webpack:///./source/scripts/helpers/LazyLoader.js","webpack:///./source/scripts/components/ProductQuickshop.js","webpack:///./source/scripts/components/GridItemSwatches.js","webpack:///./source/scripts/components/ProductGridItem.js","webpack:///./node_modules/vanilla-modal/dist/index.js","webpack:///./source/scripts/helpers/ProductReviews.js","webpack:///./node_modules/just-debounce/index.js"],"names":["Modal","callbacks","$body","$","document","body","$window","window","modal","$modal","$modalInner","find","trigger","defaultCallbacks","onOpen","onClose","onBeforeOpen","onBeforeClose","extend","finishedLoading","bind","_onOpen","_onBeforeOpen","_onClose","_onBeforeClose","_closeEsc","position","modalOptions","loadClass","class","transitions","isOpen","destroy","selector","handle","_addModalClass","VanillaModal","open","addEventListener","closeEsc","close","removeEventListener","trapFocus","e","key","windowHeight","innerHeight","modalHeight","outerHeight","modalPadding","parseInt","css","offset","marginTop","addClass","modalClass","attr","match","removeClass","_removeModalClass","off","removeTrapFocus","activeElement","focus","on","debounce","LazyLoader","target","callback","options","defaultOptions","rootMargin","threshold","_runCallback","observer","IntersectionObserver","observe","entries","isIntersecting","unload","disconnect","ProductQuickshop","$el","id","initialVariant","quickShopSelector","$quickShop","quickshopSpinner","querySelector","loaded","richText","productDetails","openingAddToCart","url","data","hash","modalCallbacks","_open","_close","atcCallbacks","onInit","_onATCInit","onError","_onATCError","onSuccess","_onATCSuccess","_onATCClose","_initialize","$quickShopModalContent","AsyncView","load","view","then","html","content","initShopifyProductReviews","each","index","el","CurrencyConverter","update","Shopify","PaymentButton","init","$message","$formArea","gallery","$details","$description","context","settings","product","_onQuickshopLoaded","catch","length","RichText","useHistory","isQuickshop","requestAnimationFrame","ProductDetails","empty","_toggleMessage","message","isVisible","toggleClass","error","$content","swatchGap","GridItemSwatches","setInitialVariant","expanded","swatchImages","swatchVariantIds","selectedImage","state","events","EventHandler","JSON","parse","innerHTML","variants","swatchesContainer","cardLinks","querySelectorAll","cardLinkHref","getAttribute","activeControlTime","activeControl","isPreselected","swatches","swatchCount","swatchCountWrapper","swatchWidths","Array","prototype","map","call","swatch","getBoundingClientRect","width","resize","classList","add","originalImages","primary","alternate","disableUnavailable","register","_toggleExpanded","injectImagesMouseoverEvent","_injectImages","injectImagesFocusinEvent","_handleMouseOver","_handleMouseLeave","_handleClick","_handleChange","_handleSwatchFocus","availableSwatches","forEach","variant","available","swatchOptionKey","swatchInputs","value","disabled","availableWidth","getComputedStyle","paddingRight","newShowSwatchCount","cumulativeWidth","i","getSwatchGap","showSwatchCount","remove","style","left","display","innerText","unregister","imagesInjected","tempContainer","createDocumentFragment","featuredImage","tempEl","createElement","img","appendChild","swatchValue","imageString","variantId","imagesContainer","salesBadge","insertBefore","rimg","watch","_setState","swatchName","primaryImage","hideAlternateImage","oldPrimaryImg","href","link","setAttribute","visibility","Date","now","checked","event","hasAttribute","dataset","swatchTooltip","nextElementSibling","contains","swatchesEl","getPropertyValue","unregisterAll","ProductGridItem","productQuickshop","quickshopInitialVariant","quickBuySettings","actionsOpen","defaultView","grid_list","lazy","lazyLoader","_init","$html","$actions","hasProductActions","_addToCart","_actionsToggle","_openQuickShop","_setSortByQueryParameters","hasClass","push","$script","_initQuickBuy","_objectFitPolyfill","queryParams","location","search","aCouples","substr","split","aKeyValue","decodeURIComponent","text","console","warn","preventDefault","leftThumbsClass","currentTarget","documentElement","_isObjectFitAvailable","$figure","featuredSrc","alternateSrc","height","actionsHeight","heightBase","heightExpanded","layout","isGreaterThanBreakpoint","$currentTarget","$target","openProductItem","productHasFocus","is","parents","first","type","_showActions","_hideActions","_getHeights","revealer","one","$atcButton","variantID","formData","name","moneyFormat","money_format","cartRedirection","cart_redirection","AddToCartFlyout","SPR","registerCallbacks","initRatingHandler","initDomEls","loadProducts","loadBadges"],"mappings":";;;;;;;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA,iBAAiB,sBAAsB;AACvC;;AAEA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,6CAA6C,+BAA+B;AAC5E;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;;;AAGA,gDAAgD;AAChD;AACA,OAAO;;AAEP;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,WAAW;AACX,2BAA2B,oBAAoB;AAC/C;AACA;AACA;;AAEA;AACA;;AAEA;AACA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,GAAG,CAACtB,GAAJ,CAAQ,eAAR,CAAJ;AAAA,OAAvB;;AAEA,UAAI,KAAKqM,gBAAT,EAA2B;AACzB,aAAKA,gBAAL,CAAsBlL,MAAtB;AACD;;AAED3E,cAAQ,CAACqC,mBAAT,CAA6B,SAA7B,EAAwC,KAAKqO,cAA7C;;AAEA,UAAI,KAAKrG,QAAT,EAAmB;AACjB,aAAKA,QAAL,CAAc1F,MAAd;AACD;;AACD,WAAKyL,UAAL,CAAgBzL,MAAhB;AACD;;;;;;;;;;;;;AC1RH;AACA,MAAM,IAA0C;AAChD,IAAI,iCAAO,CAAC,OAAS,CAAC,oCAAE,OAAO;AAAA;AAAA;AAAA,oGAAC;AAChC,GAAG,MAAM,YAQN;AACH,CAAC;AACD;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,kBAAkB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,mBAAmB,sBAAsB;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wBAAwB,4CAA4C,GAAG,8CAA8C,GAAG,+CAA+C,GAAG,wDAAwD;AAClO;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB;AACtB;AACA,KAAK;AACL;;AAEA;AACA;AACA,mBAAmB,uBAAuB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;;AAEL;AACA,GAAG;;AAEH;AACA,CAAC;;;;;;;;;ACpZD;AAAO,IAAMoC,yBAAyB,GAAG,SAA5BA,yBAA4B,GAAM;AAC7C,MAAI,CAAC5G,MAAM,CAAC8T,GAAZ,EAAiB;AACf;AACD;;AAED9T,QAAM,CAAC8T,GAAP,CAAWC,iBAAX;AACA/T,QAAM,CAAC8T,GAAP,CAAWE,iBAAX;AACAhU,QAAM,CAAC8T,GAAP,CAAWG,UAAX;AACAjU,QAAM,CAAC8T,GAAP,CAAWI,YAAX;AACAlU,QAAM,CAAC8T,GAAP,CAAWK,UAAX;AACD,CAVM;AAYQ;AACbvN,2BAAyB,EAAzBA;AADa,CAAf,E;;;;;;;ACZA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"DynamicFeaturedCollection-StaticCollection-StaticProductRecommendations-StaticSearch.bundle.js","sourcesContent":["\n  /*!\n   * shopify-asyncview v2.0.3\n   * (c) 2019 Pixel Union\n  */\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nvar deferred = {};\n\nvar AsyncView =\n/*#__PURE__*/\nfunction () {\n  function AsyncView() {\n    _classCallCheck(this, AsyncView);\n  }\n\n  _createClass(AsyncView, null, [{\n    key: \"load\",\n\n    /**\n     * Load the template given by the provided URL into the provided\n     * view\n     *\n     * @param {string} url - The url to load\n     * @param {object} query - An object containing additional query parameters of the URL\n     * @param {string} query.view - A required query parameter indicating which view to load\n     * @param {object} [options] - Config options\n     * @param {string} [options.hash] - A hash of the current page content\n     */\n    value: function load(url) {\n      var query = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      if (!('view' in query)) {\n        return Promise.reject(new Error('\\'view\\' not found in \\'query\\' parameter'));\n      }\n\n      var querylessUrl = url.replace(/\\?[^#]+/, '');\n      var queryParamsString = new RegExp(/.+\\?([^#]+)/).exec(url);\n      var queryParams = query;\n\n      if (queryParamsString && queryParamsString.length >= 2) {\n        queryParamsString[1].split('&').forEach(function (param) {\n          var _param$split = param.split('='),\n              _param$split2 = _slicedToArray(_param$split, 2),\n              key = _param$split2[0],\n              value = _param$split2[1];\n\n          queryParams[key] = value;\n        });\n      } // NOTE: We're adding an additional timestamp to the query.\n      // This is to prevent certain browsers from returning cached\n      // versions of the url we are requesting.\n      // See this PR for more info: https://github.com/pixelunion/shopify-asyncview/pull/4\n\n\n      var cachebustingParams = _objectSpread2({}, queryParams, {\n        _: new Date().getTime()\n      });\n\n      var hashUrl = querylessUrl.replace(/([^#]+)(.*)/, function (match, address, hash) {\n        return \"\".concat(address, \"?\").concat(Object.keys(queryParams).sort().map(function (key) {\n          return \"\".concat(key, \"=\").concat(encodeURIComponent(queryParams[key]));\n        }).join('&')).concat(hash);\n      });\n      var requestUrl = querylessUrl.replace(/([^#]+)(.*)/, function (match, address, hash) {\n        return \"\".concat(address, \"?\").concat(Object.keys(cachebustingParams).sort().map(function (key) {\n          return \"\".concat(key, \"=\").concat(encodeURIComponent(cachebustingParams[key]));\n        }).join('&')).concat(hash);\n      });\n      var promise = new Promise(function (resolve, reject) {\n        var data;\n\n        if (hashUrl in deferred) {\n          resolve(deferred[hashUrl]);\n          return;\n        }\n\n        deferred[hashUrl] = promise;\n\n        if (options.hash) {\n          data = sessionStorage.getItem(hashUrl);\n\n          if (data) {\n            var deserialized = JSON.parse(data);\n\n            if (options.hash === deserialized.options.hash) {\n              delete deferred[hashUrl];\n              resolve(deserialized);\n              return;\n            }\n          }\n        }\n\n        var xhr = new XMLHttpRequest();\n        xhr.open('GET', requestUrl, true);\n\n        xhr.onload = function () {\n          var el = xhr.response;\n          var newOptions = {};\n          var optionsEl = el.querySelector('[data-options]');\n\n          if (optionsEl && optionsEl.innerHTML) {\n            newOptions = JSON.parse(el.querySelector('[data-options]').innerHTML);\n          }\n\n          var htmlEls = el.querySelectorAll('[data-html]');\n          var newHtml = {};\n\n          if (htmlEls.length === 1 && htmlEls[0].getAttribute('data-html') === '') {\n            newHtml = htmlEls[0].innerHTML;\n          } else {\n            for (var i = 0; i < htmlEls.length; i++) {\n              newHtml[htmlEls[i].getAttribute('data-html')] = htmlEls[i].innerHTML;\n            }\n          }\n\n          var dataEls = el.querySelectorAll('[data-data]');\n          var newData = {};\n\n          if (dataEls.length === 1 && dataEls[0].getAttribute('data-data') === '') {\n            newData = JSON.parse(dataEls[0].innerHTML);\n          } else {\n            for (var _i = 0; _i < dataEls.length; _i++) {\n              newData[dataEls[_i].getAttribute('data-data')] = JSON.parse(dataEls[_i].innerHTML);\n            }\n          }\n\n          if (options.hash) {\n            try {\n              sessionStorage.setItem(hashUrl, JSON.stringify({\n                options: newOptions,\n                data: newData,\n                html: newHtml\n              }));\n            } catch (error) {\n              console.error(error);\n            }\n          }\n\n          delete deferred[hashUrl];\n          resolve({\n            data: newData,\n            html: newHtml\n          });\n        };\n\n        xhr.onerror = function () {\n          delete deferred[hashUrl];\n          reject();\n        };\n\n        xhr.responseType = 'document';\n        xhr.send();\n      });\n      return promise;\n    }\n  }]);\n\n  return AsyncView;\n}();\n\nexport default AsyncView;\n","import $ from 'jquery';\nimport debounce from 'just-debounce';\nimport VanillaModal from 'vanilla-modal';\nimport {\n  trapFocus,\n  removeTrapFocus,\n} from '@shopify/theme-a11y';\n\nexport default class Modal {\n  constructor(callbacks = {}) {\n    this.$body = $(document.body);\n    this.$window = $(window);\n\n    this.modal = null;\n    this.$modal = $('[data-modal-container]');\n    this.$modalInner = this.$modal.find('[data-modal-inner]');\n\n    this.trigger = null;\n\n    // Extend default vanilla-modal callbacks back to instantiator of Modal\n    this.defaultCallbacks = {\n      onOpen: () => {},\n      onClose: () => {},\n      onBeforeOpen: () => {},\n      onBeforeClose: () => {},\n    };\n\n    this.callbacks = $.extend({}, this.defaultCallbacks, callbacks);\n\n    this.finishedLoading = this.finishedLoading.bind(this);\n\n    this._onOpen = this._onOpen.bind(this);\n    this._onBeforeOpen = this._onBeforeOpen.bind(this);\n    this._onClose = this._onClose.bind(this);\n    this._onBeforeClose = this._onBeforeClose.bind(this);\n    this._closeEsc = this._closeEsc.bind(this);\n\n    this.position = this.position.bind(this);\n\n    this.modalOptions = {\n      loadClass: '',\n      class: 'modal-loaded',\n      onOpen: this._onOpen,\n      onClose: this._onClose,\n      onBeforeOpen: this._onBeforeOpen,\n      onBeforeClose: this._onBeforeClose,\n      transitions: false,\n    };\n  }\n\n  unload() {\n    if (!this.modal || !this.modal.isOpen) return;\n\n    this.modal.destroy();\n  }\n\n  /**\n   * Open a modal with contents from selector\n   *\n   * @param selector\n   * @param handle\n   */\n  open(selector, handle = 'general', trigger = null) {\n    this._addModalClass(handle);\n    this.modal = new VanillaModal(this.modalOptions);\n    this.modal.open(selector);\n    this.trigger = trigger;\n    window.addEventListener('keydown', this.closeEsc);\n  }\n\n  close() {\n    this.modal.close();\n    window.removeEventListener('keydown', this.closeEsc);\n  }\n\n  finishedLoading() {\n    trapFocus(this.$modal[0]);\n  }\n\n  _closeEsc(e) {\n    if (e.key === 'Escape') {\n      this.close();\n    }\n  }\n\n  isOpen() {\n    return this.modal && this.modal.isOpen;\n  }\n\n  /**\n   * Update the vertical positioning of modal\n   */\n  position() {\n    const windowHeight = window.innerHeight;\n\n    const modalHeight = this.$modalInner.outerHeight();\n    const modalPadding = parseInt(this.$modal.css('padding-top'), 10) * 2;\n\n    const offset = (windowHeight - modalPadding - modalHeight) / 2;\n    const marginTop = offset > 0 ? offset : 0;\n    this.$modalInner.css({ marginTop });\n  }\n\n  /**\n   * Add a class to the modal for individual styling\n   * @param handle\n   * @private\n   */\n  _addModalClass(handle) {\n    this.$modal.addClass(`modal--${handle}`);\n  }\n\n  /**\n   * Remove modal class based on the handle\n   * @private\n   */\n  _removeModalClass() {\n    const modalClass = this.$modal.attr('class').match(/modal--[\\w-]*\\b/);\n    if (!modalClass) {\n      return;\n    }\n\n    this.$modal.removeClass(modalClass[0]);\n  }\n\n  _onClose() {\n    this._removeModalClass();\n    this.$body\n      .removeClass('scroll-lock')\n      .removeClass('modal-visible');\n\n    this.$window.off('resize.modal');\n\n    this.$modalInner.css({ marginTop: '' });\n\n    this.callbacks.onClose();\n\n    removeTrapFocus(this.$modal[0]);\n\n    if (this.activeElement) {\n      this.activeElement.focus();\n    }\n  }\n\n  _onOpen() {\n    this.activeElement = document.activeElement;\n    this.position();\n    this.$body\n      .addClass('scroll-lock')\n      .addClass('modal-visible');\n    this.$window.on('resize.modal', debounce(() => this.position(), 16, true, true));\n\n    this.callbacks.onOpen();\n\n    trapFocus(this.$modal[0]);\n  }\n\n  _onBeforeClose() {\n    this.callbacks.onBeforeClose();\n  }\n\n  _onBeforeOpen() {\n    this.callbacks.onBeforeOpen();\n  }\n}\n","/**\n * Allows a callback to be run once, when a target intersects the viewport.\n * @constructor\n * @param {HTMLElement} target Element to track\n * @param {Function} callback Function to execute when target enters viewport (only executed once)\n * @param {Object} [options] options with which to construct the IntersectionObserver\n * @param {string} [options.rootMargin='30%'] A string which specifies a set of offsets to add to the root's bounding_box when calculating intersections.\n * @param {number} [options.threshold=0] Ratio of intersection required to trigger callback\n */\nexport default class LazyLoader {\n  constructor(target, callback, options) {\n    const defaultOptions = {\n      rootMargin: '30%',\n      threshold: 0,\n    };\n\n    this.callback = callback;\n    this._runCallback = this._runCallback.bind(this);\n\n    this.observer = new IntersectionObserver(this._runCallback, { ...defaultOptions, ...options });\n    this.observer.observe(target);\n  }\n\n  /**\n   * Runs the callback if first entry becomes intersecting, then unloads the LazyLoader\n   * @_runCallback\n   * @param {IntersectionObserverEntry[]} entries Entry to check - all but the\n   * first element will be ignored.\n   */\n  _runCallback(entries) {\n    // do nothing unless target moved into state of intersection\n    if (entries[0].isIntersecting === true) {\n      this.unload();\n      this.callback();\n    }\n  }\n\n  /**\n   * Disconnects IntersectionObserver if active\n   * @unload\n   */\n  unload() {\n    this.observer.disconnect();\n  }\n}\n","import $ from 'jquery';\nimport CurrencyConverter from 'shopify-currency-converter';\nimport AsyncView from 'shopify-asyncview';\n\nimport Modal from './Modal';\nimport ProductDetails from './ProductDetails';\nimport RichText from './RichText';\nimport { initShopifyProductReviews } from '../helpers/ProductReviews';\n\nexport default class ProductQuickshop {\n  constructor(options) {\n    this.$el = options.$el;\n    this.id = options.id;\n    this.initialVariant = options.initialVariant || null;\n    this.quickShopSelector = `#shopify-section-${this.id} [data-product-quickshop]`;\n    this.$quickShop = $(this.quickShopSelector);\n    this.quickshopSpinner = this.$quickShop[0].querySelector('.quickshop-spinner');\n    this.modalClass = options.modalClass;\n    this.loaded = false;\n    this.richText = null;\n    this.productDetails = null;\n    this.trigger = options.trigger;\n    this.isOpen = false;\n    this.openingAddToCart = false;\n\n    this.url = this.$el.data('product-quickshop-url');\n    this.hash = this.$el.data('quickshop-hash');\n\n    this.modalCallbacks = {\n      onOpen: this._open.bind(this),\n      onClose: this._close.bind(this),\n    };\n\n    this.atcCallbacks = {\n      onInit: this._onATCInit.bind(this),\n      onError: this._onATCError.bind(this),\n      onSuccess: this._onATCSuccess.bind(this),\n      onClose: this._onATCClose.bind(this),\n    };\n\n    this._initialize();\n  }\n\n  _initialize() {\n    this.modal = new Modal(this.modalCallbacks);\n    this.modal.open(\n      this.quickShopSelector,\n      this.modalClass,\n      this.trigger,\n    );\n    this.isOpen = true;\n\n    const $quickShopModalContent = this.modal.$modalInner.find('[data-modal-content]');\n\n    AsyncView.load(\n      this.url,\n      { view: '_quickshop' },\n      { hash: this.hash },\n    ).then(({ html, data }) => {\n      // Stop populating the modal if it was closed before the content was loaded\n      if (!this.isOpen) { return; }\n\n      $quickShopModalContent.html(html.content);\n\n      initShopifyProductReviews();\n\n      $quickShopModalContent\n        .find('.money')\n        .each((index, el) => CurrencyConverter.update(el));\n\n      if (window.Shopify && Shopify.PaymentButton) {\n        Shopify.PaymentButton.init();\n      }\n\n      this.$message = $quickShopModalContent.find('[data-product-quickshop-message]');\n      this.$formArea = $quickShopModalContent.find('[data-product-form-area]');\n      this.gallery = $quickShopModalContent[0].querySelector('[data-product-gallery]');\n      this.$details = $quickShopModalContent.find('[data-product-details]');\n      this.$description = $quickShopModalContent.find('[data-product-description]');\n      this.context = data.context;\n      this.settings = data.settings;\n      this.product = data.product;\n\n      this._onQuickshopLoaded();\n    }).catch();\n  }\n\n  _onQuickshopLoaded() {\n    if (this.loaded) {\n      return;\n    }\n\n    if (this.$description && this.$description.length) {\n      this.richText = new RichText(this.$description);\n    }\n\n    const options = {\n      $formArea: this.$formArea,\n      gallery: this.gallery,\n      $details: this.$details,\n      atcCallbacks: this.atcCallbacks,\n      context: this.context,\n      settings: this.settings,\n      product: this.product,\n      useHistory: false,\n      isQuickshop: true,\n      initialVariant: this.initialVariant,\n    };\n\n    this.modal.position();\n    this.modal.finishedLoading();\n    this.loaded = true;\n\n    window.requestAnimationFrame(() => {\n      this.productDetails = new ProductDetails(options);\n    });\n  }\n\n  _open() {\n    // do nothing\n  }\n\n  _close() {\n    if (this.productDetails) {\n      this.productDetails.unload();\n    }\n\n    if (this.richText) {\n      this.richText.unload();\n    }\n\n    if (!this.openingAddToCart) {\n      this.trigger.focus();\n    }\n\n    this.loaded = false;\n    this.isOpen = false;\n    this.$quickShop.empty();\n    this.$quickShop.html(this.quickshopSpinner);\n    this._toggleMessage('', false);\n    this.modal.unload();\n  }\n\n  _toggleMessage(message, isVisible) {\n    if (this.$message) {\n      this.$message\n        .html(message)\n        .toggleClass('visible', isVisible);\n    }\n  }\n\n  _onATCInit() {\n    this.openingAddToCart = true;\n    this.$message.removeClass('visible');\n  }\n\n  _onATCError(error) {\n    const $content = $(`<div class=\"product-message--error\" tabindex=\"-1\">${error}</div>`);\n    this._toggleMessage($content, true);\n    $content.focus();\n  }\n\n  _onATCSuccess() {\n    this._close();\n  }\n\n  _onATCClose() {\n    // Do nothing\n  }\n\n  unload() {\n    this._close();\n  }\n}\n","import EventHandler from '@pixelunion/events';\nimport debounce from 'just-debounce';\nimport rimg from 'rimg-shopify';\nimport AsyncView from 'shopify-asyncview';\n\nlet swatchGap = null;\n\nexport default class GridItemSwatches {\n  constructor(options) {\n    this.el = options.el;\n    this.setInitialVariant = options.setInitialVariant;\n\n    this.expanded = false;\n    this.swatchImages = {};\n    this.swatchVariantIds = {};\n    this.selectedImage = null;\n    this.state = {};\n    this.events = new EventHandler();\n\n    this.data = JSON.parse(this.el.querySelector('[data-swatch-data]').innerHTML);\n    this.variants = this.data.variants;\n\n    this.swatchesContainer = this.el.querySelector('[data-swatches-container]');\n    this.cardLinks = this.el.querySelectorAll('[data-product-page-link]');\n    this.cardLinkHref = this.cardLinks[0].getAttribute('href');\n    this.activeControlTime = 0;\n    this.activeControl = this.swatchesContainer.querySelector('[checked]');\n    this.isPreselected = !!this.activeControl;\n\n    this.swatches = this.swatchesContainer.querySelectorAll('[data-swatch]');\n    this.swatchCount = this.swatches.length;\n    this.swatchCountWrapper = this.el.querySelector('[data-swatch-count-wrapper]');\n    this.swatchCount = this.swatchCountWrapper.querySelector('[data-swatch-count]');\n    this.swatchWidths = Array.prototype.map.call(this.swatches, swatch => swatch.getBoundingClientRect().width);\n    this.resize();\n    this.el.querySelector('[data-swatches]').classList.add('processed');\n\n    this.originalImages = {\n      primary: this.el.querySelector('.productitem--image-primary'),\n      alternate: this.el.querySelector('.productitem--image-alternate'),\n    };\n\n    this.disableUnavailable();\n\n    // +/- button expansion events\n    this.events.register(window, 'resize', debounce(() => this.resize(), 50));\n    this.events.register(this.swatchCountWrapper, 'click', () => this._toggleExpanded());\n\n    // Image injection events\n    this.injectImagesMouseoverEvent = this.events.register(this.el, 'mouseover', () => this._injectImages());\n    this.injectImagesFocusinEvent = this.events.register(this.el, 'focusin', () => this._injectImages());\n\n    // Image/swatch switching events\n    this.events.register(this.swatchesContainer, 'mouseover', e => this._handleMouseOver(e));\n    this.events.register(this.swatchesContainer, 'mouseleave', e => this._handleMouseLeave(e));\n    this.events.register(this.swatchesContainer, 'click', e => this._handleClick(e));\n    this.events.register(this.swatchesContainer, 'change', e => this._handleChange(e));\n    this.events.register(this.swatchesContainer, 'focusin', e => this._handleSwatchFocus(e));\n  }\n\n  disableUnavailable() {\n    if (!this.variants) {\n      return;\n    }\n\n    const availableSwatches = {};\n\n    this.variants.forEach(variant => {\n      if (variant.available) {\n        availableSwatches[variant[this.data.swatchOptionKey]] = true;\n      }\n    });\n\n    const swatchInputs = this.swatchesContainer.querySelectorAll('input[name=\"swatch\"]');\n\n    swatchInputs.forEach(swatch => {\n      if (!(swatch.value in availableSwatches)) {\n        swatch.disabled = true;\n      }\n    });\n  }\n\n  resize() {\n    if (this.expanded) this._toggleExpanded();\n\n    const availableWidth = this.swatchesContainer.getBoundingClientRect().width\n      - parseInt(window.getComputedStyle(this.swatchesContainer).paddingRight, 10);\n\n    let newShowSwatchCount = this.swatches.length;\n    let cumulativeWidth = 0;\n\n    for (let i = 0; i < this.swatches.length; i++) {\n      if (cumulativeWidth + this.getSwatchGap() + this.swatchWidths[i] < availableWidth) {\n        cumulativeWidth += swatchGap + this.swatchWidths[i];\n      } else {\n        newShowSwatchCount = i;\n        break;\n      }\n    }\n\n    if (newShowSwatchCount === this.showSwatchCount) return;\n\n    this.showSwatchCount = newShowSwatchCount;\n\n    this.swatches.forEach((swatch, index) => {\n      if (index < this.showSwatchCount) {\n        swatch.classList.add('productitem--swatches-swatch-visible');\n        swatch.classList.remove('productitem--swatches-swatch-hidden');\n      } else {\n        swatch.classList.remove('productitem--swatches-swatch-visible');\n        swatch.classList.add('productitem--swatches-swatch-hidden');\n      }\n    });\n\n    this.swatchCountWrapper.style.left = `${cumulativeWidth}px`;\n\n    if (this.swatches.length > this.showSwatchCount) {\n      this.swatchCountWrapper.style.display = 'flex';\n      this.swatchCount.innerText = `+${this.swatches.length - this.showSwatchCount}`;\n    } else {\n      this.swatchCountWrapper.style.display = 'none';\n    }\n  }\n\n  _injectImages() {\n    this.events.unregister(this.injectImagesFocusinEvent);\n    this.events.unregister(this.injectImagesMouseoverEvent);\n\n    AsyncView.load(this.cardLinkHref, { view: '_swatch-data' }, { hash: this.data.hash })\n      .then(({ data }) => {\n        if (this.imagesInjected) return;\n        this.imagesInjected = true;\n        const tempContainer = document.createDocumentFragment();\n\n        if (data.featuredImage) {\n          const tempEl = document.createElement('div');\n          tempEl.innerHTML = data.featuredImage;\n          const img = tempEl.querySelector('img');\n          tempContainer.appendChild(img);\n          this.featuredImage = img;\n        }\n\n        data.swatches.forEach(({ swatchValue, imageString, variantId }) => {\n          this.swatchVariantIds[swatchValue] = variantId;\n          if (imageString) {\n            const tempEl = document.createElement('div');\n            tempEl.innerHTML = imageString;\n            const img = tempEl.querySelector('img');\n            tempContainer.appendChild(img);\n            this.swatchImages[swatchValue] = img;\n          }\n        });\n        const imagesContainer = this.el.querySelector('[data-product-item-image]');\n        const salesBadge = imagesContainer.querySelector('[data-badge-sales]');\n\n        imagesContainer.insertBefore(tempContainer, salesBadge);\n        rimg.watch(imagesContainer);\n\n        this._setState({\n          swatchName: this.activeControl ? this.activeControl.value : null,\n          primaryImage: this.originalImages.primary,\n          hideAlternateImage: !!this.activeControl,\n        });\n      });\n  }\n\n  _setState({ swatchName, primaryImage, hideAlternateImage }) {\n    const oldPrimaryImg = this.state.primaryImage;\n\n    const href = swatchName ? `${this.cardLinkHref}?variant=${this.swatchVariantIds[swatchName]}` : this.cardLinkHref;\n    this.cardLinks.forEach(link => link.setAttribute('href', href));\n\n    this.setInitialVariant(this.swatchVariantIds[swatchName] || this.variants[0].id);\n\n    if (oldPrimaryImg) {\n      oldPrimaryImg.classList.remove('productitem--image-primary');\n      oldPrimaryImg.style.visibility = '';\n    }\n\n    if (primaryImage) {\n      primaryImage.classList.add('productitem--image-primary');\n      primaryImage.style.visibility = hideAlternateImage ? 'visible' : '';\n    }\n\n    if (this.originalImages.alternate) {\n      this.originalImages.alternate.style.visibility = hideAlternateImage ? 'hidden' : '';\n    }\n\n    this.state = { swatchName, primaryImage, hideAlternateImage };\n  }\n\n  _handleChange({ target }) {\n    this.activeControlTime = Date.now();\n    this.activeControl = target;\n    const swatchName = target.value;\n    this.selectedImage = this.swatchImages[swatchName] || this.originalImages.primary;\n    this._setState({\n      swatchName,\n      primaryImage: this.selectedImage,\n      hideAlternateImage: true,\n    });\n  }\n\n  _handleClick({ target }) {\n    if (target === this.activeControl && this.activeControlTime + 150 < Date.now()) {\n      // Allow deselection, if swatch has been active for more than the threshold\n      // because we can't guarantee the order of the click and change events\n      target.checked = false;\n      this.activeControl = null;\n      this.selectedImage = null;\n\n      // Swaps in featured image if card was rendered on server with preselected swatch variant image.\n      if (this.isPreselected && this.featuredImage) {\n        this.originalImages.primary = this.featuredImage;\n        this.isPreselected = false;\n      }\n\n      this._setState({\n        swatchName: null,\n        primaryImage: this.state.primaryImage,\n        hideAlternateImage: true,\n      });\n    }\n  }\n\n  _handleMouseOver(event) {\n    if (event.target.hasAttribute('data-swatch-tooltip')) {\n      this._setState({\n        swatchName: this.state.swatchName,\n        primaryImage: this.swatchImages[event.target.dataset.swatchTooltip] || this.originalImages.primary,\n        hideAlternateImage: true,\n      });\n    }\n  }\n\n  _handleMouseLeave({ target }) {\n    if (target.hasAttribute('data-swatches-container')) {\n      this._setState({\n        swatchName: this.state.swatchName,\n        primaryImage: this.selectedImage || this.originalImages.primary,\n        hideAlternateImage: !!this.selectedImage,\n      });\n    }\n  }\n\n  _handleSwatchFocus({ target }) {\n    if (this.expanded === false && target.nextElementSibling.classList.contains('productitem--swatches-swatch-hidden')) {\n      this._toggleExpanded();\n    }\n  }\n\n  _toggleExpanded() {\n    const swatchesEl = this.el.querySelector('[data-swatches]');\n\n    if (this.expanded) {\n      this.expanded = false;\n      swatchesEl.classList.remove('productitem--swatches-expanded');\n      this.swatchCount.innerText = `+${this.swatches.length - this.showSwatchCount}`;\n    } else {\n      this.expanded = true;\n      swatchesEl.classList.add('productitem--swatches-expanded');\n    }\n  }\n\n  // Getters are used to avoid having to get these properties for every card on the page\n  getSwatchGap() {\n    if (swatchGap === null) {\n      swatchGap = parseInt(window.getComputedStyle(this.swatches[0]).getPropertyValue('margin-right'), 10);\n    }\n    return swatchGap;\n  }\n\n  unload() {\n    this.events.unregisterAll();\n  }\n}\n","import $ from 'jquery';\nimport $script from 'scriptjs';\nimport layout from '../Layout';\nimport LazyLoader from '../helpers/LazyLoader';\nimport ProductQuickshop from './ProductQuickshop';\nimport AddToCartFlyout from './AddToCartFlyout';\nimport GridItemSwatches from './GridItemSwatches';\n\nexport default class ProductGridItem {\n  constructor(options) {\n    this.$el = $(options.el);\n    this.id = options.id;\n    this.productQuickshop = null;\n    this.quickshopInitialVariant = null;\n    this.quickBuySettings = null;\n    this.events = [];\n    this.actionsOpen = false;\n    this.defaultView = options.grid_list;\n\n    if (options.lazy) {\n      this.lazyLoader = new LazyLoader(this.$el[0], () => this._init());\n    } else {\n      this._init();\n    }\n  }\n\n  _init() {\n    this.$window = $(window);\n    this.$html = $('html');\n    this.$content = this.$el.find('[data-product-item-content]');\n    this.$actions = this.$el.find('[data-product-actions]');\n    this.swatchesEl = this.$el[0].querySelector('[data-swatches]');\n    this.hasProductActions = this.$actions.length;\n    this._addToCart = this._addToCart.bind(this);\n    this._actionsToggle = this._actionsToggle.bind(this);\n    this._openQuickShop = this._openQuickShop.bind(this);\n\n    if (this.hasProductActions) {\n      this._setSortByQueryParameters();\n      if (this.$html.hasClass('no-touch') && this.defaultView !== 'list-view') {\n        this.events.push(this.$el.on('mouseenter.product-item', this._actionsToggle));\n        this.events.push(this.$el.on('mouseleave.product-item', this._actionsToggle));\n        this.events.push(this.$el.on('focusin.product-item', this._actionsToggle));\n      }\n      // $scripts checks existence of script in header before attempting to inject\n      $script($('[data-scripts]').data('shopify-api-url'), () => {\n        this.events.push(this.$el.on('click.product-item', '[data-quick-buy]', this._addToCart));\n        this.events.push(this.$el.on('click.product-item', '[data-quickshop-slim]', this._openQuickShop));\n        this.events.push(this.$el.on('click.product-item', '[data-quickshop-full]', this._openQuickShop));\n      });\n    }\n\n    if (this.$el.find('[data-quick-buy]').length) {\n      this._initQuickBuy();\n    }\n\n    this._objectFitPolyfill();\n\n    if (this.swatchesEl) {\n      this.swatches = new GridItemSwatches({\n        el: this.$el[0],\n        setInitialVariant: id => { this.quickshopInitialVariant = id; },\n        product: this.product,\n      });\n    }\n  }\n\n  /**\n   * Make Shopify aware of releavent collection search info\n   *  - tag\n   *  - vendor\n   *  - pagination\n   *  - sorting criteria\n   *\n   * @private\n   */\n  _setSortByQueryParameters() {\n    Shopify.queryParams = {};\n    if (location.search.length) {\n      for (let i = 0, aCouples = location.search.substr(1).split('&'); i < aCouples.length; i++) {\n        const aKeyValue = aCouples[i].split('=');\n        // Reset the page number when we apply (i.e. don't add it to params)\n        if (aKeyValue.length > 1 && aKeyValue[0] !== 'page') {\n          Shopify.queryParams[decodeURIComponent(aKeyValue[0])] = decodeURIComponent(aKeyValue[1]);\n        }\n      }\n    }\n  }\n\n  _initQuickBuy() {\n    try {\n      this.quickBuySettings = JSON.parse(this.$el.find('[data-quick-buy-settings]').text());\n    } catch (error) {\n      console.warn(`Quick buy: invalid QuickBuy data found. ${error.message}`);\n    }\n  }\n\n  _openQuickShop(event) {\n    event.preventDefault();\n\n    const leftThumbsClass = event.currentTarget.hasAttribute('data-thumbs-left')\n      ? ' quickshop-thumbs-left'\n      : '';\n\n    const modalClass = event.currentTarget.hasAttribute('data-quickshop-full')\n      ? `quickshop-full${leftThumbsClass}`\n      : 'quickshop-slim';\n\n    if (this.productQuickshop) {\n      this.productQuickshop.unload();\n    }\n\n    this.productQuickshop = new ProductQuickshop({\n      $el: this.$el,\n      id: this.id,\n      modalClass,\n      trigger: this.$el.find('.productitem--title a'),\n      initialVariant: this.quickshopInitialVariant,\n    });\n  }\n\n  _isObjectFitAvailable() {\n    return 'objectFit' in document.documentElement.style;\n  }\n\n  _objectFitPolyfill() {\n    if (this._isObjectFitAvailable()) {\n      return;\n    }\n\n    const $figure = $('[data-product-item-image]', this.$el);\n    const featuredSrc = $('img:not(.productitem--image-alternate)', $figure).attr('src');\n    const alternateSrc = $('.productitem--image-alternate', $figure).attr('src');\n\n    $figure.addClass('product-item-image-no-objectfit');\n    $figure.css('background-image', `url(\"${featuredSrc}\")`);\n\n    if (alternateSrc) {\n      this.$el.on('mouseover', () => {\n        $figure.css('background-image', `url(\"${alternateSrc}\")`);\n      });\n\n      this.$el.on('mouseleave', () => {\n        $figure.css('background-image', `url(\"${featuredSrc}\")`);\n      });\n    }\n  }\n\n  /**\n   * Get height of element, and combined height of element + actions\n   *\n   * @returns {{heightBase, heightExpanded: *}}\n   * @private\n   */\n  _getHeights() {\n    const height = this.$el.height();\n    const actionsHeight = this.$el.find('[data-product-actions]').outerHeight(true);\n\n    return {\n      heightBase: height,\n      heightExpanded: height + actionsHeight,\n    };\n  }\n\n  _actionsToggle(event) {\n    if (!layout.isGreaterThanBreakpoint('M')) return;\n\n    const $currentTarget = $(event.currentTarget);\n    const $target = $(event.target);\n\n    let openProductItem = false;\n\n    // This function gets called on the element as well as the document focusin, so we want to\n    // be extra careful that we are inside the product card in question. We want the product card\n    // to close if another product card has received focus.\n    const productHasFocus = this.$el.is($currentTarget)\n      || this.$el.is($target)\n      || this.$el.is($target.parents('.productgrid--item').first())\n      || (event.type === 'focusin' && $target[0].contains(this.$el[0]));\n\n    if (event.type === 'mouseenter' || event.type === 'mouseleave') {\n      openProductItem = event.type === 'mouseenter';\n    } else if (productHasFocus) {\n      openProductItem = true;\n    }\n\n    if (openProductItem) {\n      this._showActions();\n    } else {\n      this._hideActions();\n    }\n  }\n\n  _showActions() {\n    if (this.actionsOpen) { return; }\n\n    const { heightBase, heightExpanded } = this._getHeights();\n\n    // Lock heights to prevent jumping\n    this.$el.css('height', heightBase);\n    this.$content.css('height', heightBase);\n\n    // Store height for when hovering out\n    this.$el.data('base-height', heightBase);\n\n    // Start animation, and transition height to expanded height\n    this.$el\n      .revealer('show')\n      .one('revealer-animating.product-item', () => {\n        this.$content.css('height', heightExpanded);\n      });\n\n    document.addEventListener('focusin', this._actionsToggle);\n\n    this.actionsOpen = true;\n  }\n\n  _hideActions() {\n    const height = this.$el.data('base-height');\n\n    /*\n      - Transition buttons up, using base height for animation\n      - Remove heights after animation is complete in case of resize\n     */\n    this.$el\n      .revealer('hide')\n      .one('revealer-animating', () => {\n        this.$el.off('revealer-animating.product-item');\n        this.$el.css({ height });\n        this.$content.css({ height });\n      }).one('revealer-hide', () => {\n        this.$el\n          .off('revealer-hide.product-item')\n          .css('height', '');\n        this.$content.css('height', '');\n      });\n\n    document.removeEventListener('focusin', this._actionsToggle);\n\n    this.actionsOpen = false;\n  }\n\n  _addToCart(event) {\n    event.preventDefault();\n    const $atcButton = $(event.currentTarget);\n    const variantID = $atcButton.attr('data-variant-id');\n\n    const formData = [\n      {\n        name: 'id',\n        value: variantID,\n      },\n      {\n        name: 'quantity',\n        value: 1,\n      },\n    ];\n\n    const options = {\n      $atcButton,\n      settings: {\n        moneyFormat: this.quickBuySettings.money_format,\n        cartRedirection: this.quickBuySettings.cart_redirection,\n      },\n    };\n\n    AddToCartFlyout.init(formData, options);\n  }\n\n  unload() {\n    this.events.forEach($el => $el.off('.product-item'));\n\n    if (this.productQuickshop) {\n      this.productQuickshop.unload();\n    }\n\n    document.removeEventListener('focusin', this._actionsToggle);\n\n    if (this.swatches) {\n      this.swatches.unload();\n    }\n    this.lazyLoader.unload();\n  }\n}\n","(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(['exports'], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports);\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports);\n    global.VanillaModal = mod.exports;\n  }\n})(this, function (exports) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  var _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  var defaults = {\n    modal: '.modal',\n    modalInner: '.modal-inner',\n    modalContent: '.modal-content',\n    open: '[data-modal-open]',\n    close: '[data-modal-close]',\n    page: 'body',\n    class: 'modal-visible',\n    loadClass: 'vanilla-modal',\n    clickOutside: true,\n    closeKeys: [27],\n    transitions: true,\n    transitionEnd: null,\n    onBeforeOpen: null,\n    onBeforeClose: null,\n    onOpen: null,\n    onClose: null\n  };\n\n  function throwError(message) {\n    // eslint-disable-next-line no-console\n    console.error('VanillaModal: ' + message);\n  }\n\n  function find(arr, callback) {\n    return function (key) {\n      var filteredArray = arr.filter(callback);\n      return filteredArray[0] ? filteredArray[0][key] : undefined;\n    };\n  }\n\n  function transitionEndVendorSniff() {\n    var el = document.createElement('div');\n    var transitions = [{ key: 'transition', value: 'transitionend' }, { key: 'OTransition', value: 'otransitionend' }, { key: 'MozTransition', value: 'transitionend' }, { key: 'WebkitTransition', value: 'webkitTransitionEnd' }];\n    return find(transitions, function (_ref) {\n      var key = _ref.key;\n      return typeof el.style[key] !== 'undefined';\n    })('value');\n  }\n\n  function isPopulatedArray(arr) {\n    return Object.prototype.toString.call(arr) === '[object Array]' && arr.length;\n  }\n\n  function getNode(selector, parent) {\n    var targetNode = parent || document;\n    var node = targetNode.querySelector(selector);\n    if (!node) {\n      throwError(selector + ' not found in document.');\n    }\n    return node;\n  }\n\n  function addClass(el, className) {\n    if (!(el instanceof HTMLElement)) {\n      throwError('Not a valid HTML element.');\n    }\n    el.setAttribute('class', el.className.split(' ').filter(function (cn) {\n      return cn !== className;\n    }).concat(className).join(' '));\n  }\n\n  function removeClass(el, className) {\n    if (!(el instanceof HTMLElement)) {\n      throwError('Not a valid HTML element.');\n    }\n    el.setAttribute('class', el.className.split(' ').filter(function (cn) {\n      return cn !== className;\n    }).join(' '));\n  }\n\n  function getElementContext(e) {\n    if (e && typeof e.hash === 'string') {\n      return document.querySelector(e.hash);\n    } else if (typeof e === 'string') {\n      return document.querySelector(e);\n    }\n    throwError('No selector supplied to open()');\n    return null;\n  }\n\n  function applyUserSettings(settings) {\n    return _extends({}, defaults, settings, {\n      transitionEnd: transitionEndVendorSniff()\n    });\n  }\n\n  function matches(e, selector) {\n    var allMatches = (e.target.document || e.target.ownerDocument).querySelectorAll(selector);\n    for (var i = 0; i < allMatches.length; i += 1) {\n      var node = e.target;\n      while (node && node !== document.body) {\n        if (node === allMatches[i]) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n    }\n    return null;\n  }\n\n  var VanillaModal = function () {\n    function VanillaModal(settings) {\n      _classCallCheck(this, VanillaModal);\n\n      this.isOpen = false;\n      this.current = null;\n      this.isListening = false;\n\n      this.settings = applyUserSettings(settings);\n      this.dom = this.getDomNodes();\n\n      this.open = this.open.bind(this);\n      this.close = this.close.bind(this);\n      this.closeKeyHandler = this.closeKeyHandler.bind(this);\n      this.outsideClickHandler = this.outsideClickHandler.bind(this);\n      this.delegateOpen = this.delegateOpen.bind(this);\n      this.delegateClose = this.delegateClose.bind(this);\n      this.listen = this.listen.bind(this);\n      this.destroy = this.destroy.bind(this);\n\n      this.addLoadedCssClass();\n      this.listen();\n    }\n\n    _createClass(VanillaModal, [{\n      key: 'getDomNodes',\n      value: function getDomNodes() {\n        var _settings = this.settings,\n            modal = _settings.modal,\n            page = _settings.page,\n            modalInner = _settings.modalInner,\n            modalContent = _settings.modalContent;\n\n        return {\n          modal: getNode(modal),\n          page: getNode(page),\n          modalInner: getNode(modalInner, getNode(modal)),\n          modalContent: getNode(modalContent, getNode(modal))\n        };\n      }\n    }, {\n      key: 'addLoadedCssClass',\n      value: function addLoadedCssClass() {\n        addClass(this.dom.page, this.settings.loadClass);\n      }\n    }, {\n      key: 'setOpenId',\n      value: function setOpenId(id) {\n        var page = this.dom.page;\n\n        page.setAttribute('data-current-modal', id || 'anonymous');\n      }\n    }, {\n      key: 'removeOpenId',\n      value: function removeOpenId() {\n        var page = this.dom.page;\n\n        page.removeAttribute('data-current-modal');\n      }\n    }, {\n      key: 'open',\n      value: function open(allMatches, e) {\n        var page = this.dom.page;\n        var _settings2 = this.settings,\n            onBeforeOpen = _settings2.onBeforeOpen,\n            onOpen = _settings2.onOpen;\n\n        if (!(this.current instanceof HTMLElement === false)) {\n          throwError('VanillaModal target must exist on page.');\n          return;\n        }\n        this.releaseNode(this.current);\n        this.current = getElementContext(allMatches);\n        if (typeof onBeforeOpen === 'function') {\n          onBeforeOpen.call(this, e);\n        }\n        this.captureNode(this.current);\n        addClass(page, this.settings.class);\n        this.setOpenId(this.current.id);\n        this.isOpen = true;\n        if (typeof onOpen === 'function') {\n          onOpen.call(this, e);\n        }\n      }\n    }, {\n      key: 'detectTransition',\n      value: function detectTransition() {\n        var modal = this.dom.modal;\n\n        var css = window.getComputedStyle(modal, null);\n        return Boolean(['transitionDuration', 'oTransitionDuration', 'MozTransitionDuration', 'webkitTransitionDuration'].filter(function (i) {\n          return typeof css[i] === 'string' && parseFloat(css[i]) > 0;\n        }).length);\n      }\n    }, {\n      key: 'close',\n      value: function close(e) {\n        var _settings3 = this.settings,\n            transitions = _settings3.transitions,\n            transitionEnd = _settings3.transitionEnd,\n            onBeforeClose = _settings3.onBeforeClose;\n\n        var hasTransition = this.detectTransition();\n        if (this.isOpen) {\n          this.isOpen = false;\n          if (typeof onBeforeClose === 'function') {\n            onBeforeClose.call(this, e);\n          }\n          removeClass(this.dom.page, this.settings.class);\n          if (transitions && transitionEnd && hasTransition) {\n            this.closeModalWithTransition(e);\n          } else {\n            this.closeModal(e);\n          }\n        }\n      }\n    }, {\n      key: 'closeModal',\n      value: function closeModal(e) {\n        var onClose = this.settings.onClose;\n\n        this.removeOpenId(this.dom.page);\n        this.releaseNode(this.current);\n        this.isOpen = false;\n        this.current = null;\n        if (typeof onClose === 'function') {\n          onClose.call(this, e);\n        }\n      }\n    }, {\n      key: 'closeModalWithTransition',\n      value: function closeModalWithTransition(e) {\n        var _this = this;\n\n        var modal = this.dom.modal;\n        var transitionEnd = this.settings.transitionEnd;\n\n        var closeTransitionHandler = function closeTransitionHandler() {\n          modal.removeEventListener(transitionEnd, closeTransitionHandler);\n          _this.closeModal(e);\n        };\n        modal.addEventListener(transitionEnd, closeTransitionHandler);\n      }\n    }, {\n      key: 'captureNode',\n      value: function captureNode(node) {\n        var modalContent = this.dom.modalContent;\n\n        while (node.childNodes.length) {\n          modalContent.appendChild(node.childNodes[0]);\n        }\n      }\n    }, {\n      key: 'releaseNode',\n      value: function releaseNode(node) {\n        var modalContent = this.dom.modalContent;\n\n        while (modalContent.childNodes.length) {\n          node.appendChild(modalContent.childNodes[0]);\n        }\n      }\n    }, {\n      key: 'closeKeyHandler',\n      value: function closeKeyHandler(e) {\n        var closeKeys = this.settings.closeKeys;\n\n        if (isPopulatedArray(closeKeys) && closeKeys.indexOf(e.which) > -1 && this.isOpen === true) {\n          e.preventDefault();\n          this.close(e);\n        }\n      }\n    }, {\n      key: 'outsideClickHandler',\n      value: function outsideClickHandler(e) {\n        var clickOutside = this.settings.clickOutside;\n        var modalInner = this.dom.modalInner;\n\n        if (clickOutside) {\n          var node = e.target;\n          while (node && node !== document.body) {\n            if (node === modalInner) {\n              return;\n            }\n            node = node.parentNode;\n          }\n          this.close(e);\n        }\n      }\n    }, {\n      key: 'delegateOpen',\n      value: function delegateOpen(e) {\n        var open = this.settings.open;\n\n        var matchedNode = matches(e, open);\n        if (matchedNode) {\n          e.preventDefault();\n          this.open(matchedNode, e);\n        }\n      }\n    }, {\n      key: 'delegateClose',\n      value: function delegateClose(e) {\n        var close = this.settings.close;\n\n        if (matches(e, close)) {\n          e.preventDefault();\n          this.close(e);\n        }\n      }\n    }, {\n      key: 'listen',\n      value: function listen() {\n        var modal = this.dom.modal;\n\n        if (!this.isListening) {\n          modal.addEventListener('click', this.outsideClickHandler, false);\n          document.addEventListener('keydown', this.closeKeyHandler, false);\n          document.addEventListener('click', this.delegateOpen, false);\n          document.addEventListener('click', this.delegateClose, false);\n          this.isListening = true;\n        } else {\n          throwError('Event listeners already applied.');\n        }\n      }\n    }, {\n      key: 'destroy',\n      value: function destroy() {\n        var modal = this.dom.modal;\n\n        if (this.isListening) {\n          this.close();\n          modal.removeEventListener('click', this.outsideClickHandler);\n          document.removeEventListener('keydown', this.closeKeyHandler);\n          document.removeEventListener('click', this.delegateOpen);\n          document.removeEventListener('click', this.delegateClose);\n          this.isListening = false;\n        } else {\n          throwError('Event listeners already removed.');\n        }\n      }\n    }]);\n\n    return VanillaModal;\n  }();\n\n  exports.default = VanillaModal;\n});\n","export const initShopifyProductReviews = () => {\n  if (!window.SPR) {\n    return;\n  }\n\n  window.SPR.registerCallbacks();\n  window.SPR.initRatingHandler();\n  window.SPR.initDomEls();\n  window.SPR.loadProducts();\n  window.SPR.loadBadges();\n};\n\nexport default {\n  initShopifyProductReviews,\n};\n","module.exports = debounce\n\nfunction debounce (fn, delay, at_start, guarantee) {\n  var timeout\n  var args\n  var self\n\n  return function debounced () {\n    self = this\n    args = Array.prototype.slice.call(arguments)\n\n    if (timeout && (at_start || guarantee)) {\n      return\n    } else if (!at_start) {\n      clear()\n\n      timeout = setTimeout(run, delay)\n      return timeout\n    }\n\n    timeout = setTimeout(clear, delay)\n    fn.apply(self, args)\n\n    function run () {\n      clear()\n      fn.apply(self, args)\n    }\n\n    function clear () {\n      clearTimeout(timeout)\n      timeout = null\n    }\n  }\n}\n"],"sourceRoot":""}