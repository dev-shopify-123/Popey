<script
  type="application/json"
  data-section-id="{{ section.id }}"
  data-section-type="dynamic-html"
></script>

<section class="custom-html--container">
  {% if section.settings.title != blank %}
    <h2 class="home-section--title" >
      <span data-i18n='{% render 'translationData' with  section.settings.title %}'>{% render 'translationText' with  section.settings.title %}</span>
    </h2>
  {% endif %}
  <div class="rte testimonial testimonial-slideshow owl-carousel" data-rte>
      {% for block in section.blocks %}
        <div class="testimonials-wrapper">

        
        <div class="testimonial-column" data-rte>
          <div>
            <p><span data-i18n='{% render 'translationData' with  block.settings.date  %}'>{% render 'translationText' with  block.settings.date  %}</span></p>
            <h4><span data-i18n='{% render 'translationData' with  block.settings.title  %}'>{% render 'translationText' with  block.settings.title  %}</span></h4>

            <span class="spr-badge" id="spr_badge_4686319943739" data-rating="5.0"><span
                    class="spr-starrating spr-badge-starrating"><i class="spr-icon spr-icon-star" style="color: #000000;"></i><i
                        class="spr-icon spr-icon-star" style="color: #000000;"></i><i class="spr-icon spr-icon-star"
                        style="color: #000000;"></i><i class="spr-icon spr-icon-star" style="color: #000000;"></i><i
                        class="spr-icon spr-icon-star" style="color: #000000;"></i></span><span class="spr-badge-caption"></span>
            </span>

            <span data-i18n='{% render 'translationData' with  block.settings.content  %}'>{% render 'translationText' with  block.settings.content  %}</span>

            <p class="testimonial-name">- <span data-i18n='{% render 'translationData' with  block.settings.name  %}'>{% render 'translationText' with  block.settings.name  %}</span></p>
          </div>
        </div>
    </div>
      {% endfor %}
  </div>
</section>

{{ 'fontfaceobserver.js' | asset_url | script_tag }}

{{ 'https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js' | script_tag }}


<script>
    $(".testimonial-slideshow").owlCarousel({
      responsive: {
        0: {
          items: 1,
          nav: true
        },
        750: {
          items: 2,
          nav: true
        },
        1023: {
          items: 3,
          nav: true
        }
      }
    });
    // $(".testimonial-slideshow").flickity({
    //     cellAlign: 'left',
    //     contain: true,
    //     groupCells: true,
    //     percentPosition: true,
    //     adaptiveHeight: true
    // });

    // var openSansObserver = new FontFaceObserver('Open Sans');

    // openSansObserver.load().then(function(){
    //   console.log("testing");
    //   $(".testimonial-slideshow").flickity({
    //     cellAlign: 'left',
    //     contain: true,
    //     groupCells: true,
    //     percentPosition: true,
    //     adaptiveHeight: true
    //   });
    // });
</script>

{% schema %}
{
  "name": "Testimonials",
  "class": "html--section-testimonial",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Heading",
      "default": "Custom HTML"
    }
  ], 
  "blocks": [
    {
      "type": "quote",
        "name": "Quote",
        "settings": [
            {
                "type": "text",
                "id": "date",
                "label": "Date"
            },
            {
                "type": "text",
                "id": "title",
                "label": "Title"
            },
            {
                "id": "content",
                "type": "richtext",
                "label": "Quote"
            },
            {
                "type": "text",
                "id": "name",
                "label": "Name"
            }
        ]
    }
  ],
  "presets": [
    {
      "category": "Text",
      "name": "Testimonials"
    }
  ]
}

{% endschema %}