{% assign tag_limit = filter_limit | times: 1 %}

{% comment %}
  Collection filters
{% endcomment %}
{% if collection.all_tags.size > 0 and filter_style != 'none' %}
  {% include 'advanced-tag-loop' %}
  <div class="productgrid--sidebar-section" data-productgrid-filters-content>
    <h2 class="productgrid--sidebar-title">
      <span data-i18n='product_grid.filters.title_count{% if 0 > 1 %}.other{% else %}.zero{% endif %} || {"count":"{{ 0 | replace: "||", "^^" | replace: "'", "&apos;" }}"}'>{{ 'product_grid.filters.title_count' | t: count: 0 }}</span>
    </h2>
    <nav
      aria-label="Collection filters"
    >
      {% if current_tags.size > 0 %}
        <div class="productgrid--sidebar-item productgrid--sidebar-filters--current">
          {%- include 'product-grid-tags-active' -%}
        </div>
      {% endif %}

      {% if filter_style == 'groups' %}
        {%
          include 'product-grid-tag-groups',
          tag_limit: tag_limit
        %}
      {% endif %}

      {% if filter_style == 'tags' %}
        {%
          include 'product-grid-tags',
          tag_limit: tag_limit
        %}
      {% endif %}
    </nav>
  </div>
{% endif %}
